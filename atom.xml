<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Hugo‘s Blog</title>
  
  <subtitle>不忘初心，方得始终</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://hugo1993.gitee.io/"/>
  <updated>2019-03-10T16:12:57.393Z</updated>
  <id>https://hugo1993.gitee.io/</id>
  
  <author>
    <name>Hugo Black</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Node安装与使用</title>
    <link href="https://hugo1993.gitee.io/2019/03/11/use-node-and-kill/"/>
    <id>https://hugo1993.gitee.io/2019/03/11/use-node-and-kill/</id>
    <published>2019-03-10T16:07:46.000Z</published>
    <updated>2019-03-10T16:12:57.393Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="安装Node"><a href="#安装Node" class="headerlink" title="安装Node"></a>安装Node</h2><p><a href="https://nodejs.org/en/" target="_blank" rel="noopener">Node官网</a>下载Node软件， 安装到指定位置，如<code>D:\Program\nodejs</code>，安装完成后环境变量<code>PATH</code>内会有刚刚安装Node的安装目录<code>D:\Program\nodejs\</code>。</p><h3 id="查看是否安装成功"><a href="#查看是否安装成功" class="headerlink" title="查看是否安装成功"></a>查看是否安装成功</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br></pre></td></tr></table></figure><h2 id="npm配置修改"><a href="#npm配置修改" class="headerlink" title="npm配置修改"></a>npm配置修改</h2><h3 id="查看全局包位置"><a href="#查看全局包位置" class="headerlink" title="查看全局包位置"></a>查看全局包位置</h3><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm root -g</span><br></pre></td></tr></table></figure><h3 id="查看prefix和cache路径配置信息"><a href="#查看prefix和cache路径配置信息" class="headerlink" title="查看prefix和cache路径配置信息"></a>查看prefix和cache路径配置信息</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm config get cache</span><br><span class="line"> </span><br><span class="line">npm config get prefix</span><br></pre></td></tr></table></figure><h3 id="查看npm配置信息"><a href="#查看npm配置信息" class="headerlink" title="查看npm配置信息"></a>查看npm配置信息</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config list</span><br></pre></td></tr></table></figure><h3 id="修改全局包默认安装位置"><a href="#修改全局包默认安装位置" class="headerlink" title="修改全局包默认安装位置"></a>修改全局包默认安装位置</h3><p><code>D:\Program\nodejs</code>目录下新建目录<code>node_global</code>， 执行以下命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config set prefix &quot;D:\Program\nodejs\node_global&quot;</span><br></pre></td></tr></table></figure><blockquote><p><strong>注意：</strong> 将<code>D:\Program\nodejs\node_global</code> 和 <code>D:\Program\nodejs\node_modules</code>目录添加入环境变量PATH内。</p></blockquote><h3 id="修改cache默认安装位置"><a href="#修改cache默认安装位置" class="headerlink" title="修改cache默认安装位置"></a>修改cache默认安装位置</h3><p><code>D:\Program\nodejs</code>目录下新建目录<code>node_cache</code>， 执行以下命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config set cache  &quot;D:\Program\nodejs\node_cache&quot;</span><br></pre></td></tr></table></figure><h3 id="设置npm镜像源"><a href="#设置npm镜像源" class="headerlink" title="设置npm镜像源"></a>设置npm镜像源</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm config set registry https://registry.npm.taobao.org --global</span><br><span class="line">npm config set disturl https://npm.taobao.org/dist --global</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      本文介绍了Node的安装，npm全局包位置和cache默认安装位置的更改，以及设置npm镜像源加快包下载。
    
    </summary>
    
      <category term="工具使用" scheme="https://hugo1993.gitee.io/categories/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/"/>
    
    
      <category term="Node" scheme="https://hugo1993.gitee.io/tags/Node/"/>
    
  </entry>
  
  <entry>
    <title>Hexo发布时Git出现警告</title>
    <link href="https://hugo1993.gitee.io/2019/02/28/record-git-problem-solution/"/>
    <id>https://hugo1993.gitee.io/2019/02/28/record-git-problem-solution/</id>
    <published>2019-02-28T12:38:35.000Z</published>
    <updated>2019-03-10T15:52:58.896Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="问题背景"><a href="#问题背景" class="headerlink" title="问题背景"></a>问题背景</h2><p>执行<code>hexo d</code>时出现以下问题：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">INFO  Deploying: git</span><br><span class="line">INFO  Clearing .deploy_git folder...</span><br><span class="line">INFO  Copying files from public folder...</span><br><span class="line">INFO  Copying files from extend dirs...</span><br><span class="line">warning: LF will be replaced by CRLF in 2017/09/01/hello-First/index.html.</span><br><span class="line">The file will have its original line endings in your working directory.</span><br><span class="line">warning: LF will be replaced by CRLF in 2017/09/01/hello-world/index.html.</span><br><span class="line">The file will have its original line endings in your working directory.</span><br><span class="line">warning: LF will be replaced by CRLF in 2017/09/03/Vue-second/index.html.</span><br></pre></td></tr></table></figure></p><h2 id="前置知识"><a href="#前置知识" class="headerlink" title="前置知识"></a>前置知识</h2><p><code>CR</code>    回车<br><code>LF</code>    换行<br>Windows/Dos     CRLF    <code>\r\n</code><br>Linux/Unix      LF      <code>\n</code><br>MacOS           CR      <code>\r</code></p><h2 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h2><p>打开命令行进行设置，在Windows下开发，建议设置autocrlf为true。<br>如果文件编码是UTF8并且包含中文文字，那还是把autocrlf设置为false，并且把所有文件转换为Linux编码（即LF\n），开启safecrlf检查。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">一、AutoCRLF</span><br><span class="line">#提交时转换为LF，检出时转换为CRLF</span><br><span class="line">git config --global core.autocrlf true</span><br><span class="line"></span><br><span class="line">#提交时转换为LF，检出时不转换</span><br><span class="line">git config --global core.autocrlf input</span><br><span class="line"></span><br><span class="line">#提交检出均不转换</span><br><span class="line">git config --global core.autocrlf false</span><br><span class="line"></span><br><span class="line">二、SafeCRLF</span><br><span class="line">#拒绝提交包含混合换行符的文件</span><br><span class="line">git config --global core.safecrlf true</span><br><span class="line"></span><br><span class="line">#允许提交包含混合换行符的文件</span><br><span class="line">git config --global core.safecrlf false</span><br><span class="line"></span><br><span class="line">#提交包含混合换行符的文件时给出警告</span><br><span class="line">git config --global core.safecrlf warn</span><br></pre></td></tr></table></figure></p><h2 id="解决git中文路径显示unicode代码"><a href="#解决git中文路径显示unicode代码" class="headerlink" title="解决git中文路径显示unicode代码"></a>解决git中文路径显示unicode代码</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global core.quotepath false</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      　　执行hexo d命令时，出现警告LF will be replaced by CRLF, 由于换行符的问题，因为Windows和Linux的换行符不一样，而Git默认应该是Linux的。
    
    </summary>
    
      <category term="实践检验" scheme="https://hugo1993.gitee.io/categories/%E5%AE%9E%E8%B7%B5%E6%A3%80%E9%AA%8C/"/>
    
    
      <category term="git" scheme="https://hugo1993.gitee.io/tags/git/"/>
    
      <category term="hexo" scheme="https://hugo1993.gitee.io/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>在windows中使用SSH连接VMware Linux虚拟机</title>
    <link href="https://hugo1993.gitee.io/2018/09/28/ssh-login-linux/"/>
    <id>https://hugo1993.gitee.io/2018/09/28/ssh-login-linux/</id>
    <published>2018-09-28T05:13:00.000Z</published>
    <updated>2019-02-27T14:48:22.432Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="测试环境配置"><a href="#测试环境配置" class="headerlink" title="测试环境配置"></a>测试环境配置</h2><ul><li>主机：window10  64位 专业版</li><li>虚拟机：VMware workstation 15</li><li>虚拟机操作系统：deepin-15.7-amd64</li><li>目标: 在deepin运行SSH服务，从宿主操作系统windows10中，登录deepin</li></ul><h2 id="设置虚拟VMware网络适配器"><a href="#设置虚拟VMware网络适配器" class="headerlink" title="设置虚拟VMware网络适配器"></a>设置虚拟VMware网络适配器</h2><p><img src="https://ichenxiaobin.cn/blog/images/20180928133309.png" alt="设置虚拟VMware网络适配器"></p><blockquote><p>设置虚拟VMware网络适配器为<code>NAT模式</code>，其实一般装完虚拟机Linux系统就是这种模式。</p></blockquote><h2 id="虚拟机Deepin内设置"><a href="#虚拟机Deepin内设置" class="headerlink" title="虚拟机Deepin内设置"></a>虚拟机Deepin内设置</h2><h3 id="检查ssh-server有没有启动"><a href="#检查ssh-server有没有启动" class="headerlink" title="检查ssh-server有没有启动"></a>检查ssh-server有没有启动</h3><p>运行以下命令，如果没有sshd，说明ssh-server没有启动<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -e | grep ssh</span><br></pre></td></tr></table></figure></p><h3 id="安装OpenSSH服务器"><a href="#安装OpenSSH服务器" class="headerlink" title="安装OpenSSH服务器"></a>安装OpenSSH服务器</h3><ol><li><p>请确保虚拟机Deepin内可上网，一般设置为NAT模式是可以上网的。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install openssh-server</span><br></pre></td></tr></table></figure></li><li><p>再次检查ssh-server是否启动，看到sshd说明服务已经启动</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ ps -e | grep ssh</span><br><span class="line">667 ?        00:00:00 sshd</span><br></pre></td></tr></table></figure></li><li><p>查看linux网卡地址</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ifconfig</span><br></pre></td></tr></table></figure></li></ol><p><img src="https://ichenxiaobin.cn/blog/images/20180928141820.png" alt="查看linux网卡地址"></p><blockquote><p>如上图所示，Deepin的网卡地址是<code>192.168.76.128</code>。</p></blockquote><h2 id="设置windows"><a href="#设置windows" class="headerlink" title="设置windows"></a>设置windows</h2><h3 id="检查是否ping得通Deepin"><a href="#检查是否ping得通Deepin" class="headerlink" title="检查是否ping得通Deepin"></a>检查是否ping得通Deepin</h3><p>检查本机window10是否ping得通虚拟机的Deepin系统。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">λ ping 192.168.76.128</span><br><span class="line"></span><br><span class="line">正在 Ping 192.168.76.128 具有 32 字节的数据:</span><br><span class="line">来自 192.168.76.128 的回复: 字节=32 时间&lt;1ms TTL=64</span><br><span class="line">来自 192.168.76.128 的回复: 字节=32 时间&lt;1ms TTL=64</span><br><span class="line">来自 192.168.76.128 的回复: 字节=32 时间&lt;1ms TTL=64</span><br><span class="line">来自 192.168.76.128 的回复: 字节=32 时间&lt;1ms TTL=64</span><br><span class="line"></span><br><span class="line">192.168.76.128 的 Ping 统计信息:</span><br><span class="line">    数据包: 已发送 = 4，已接收 = 4，丢失 = 0 (0% 丢失)，</span><br><span class="line">往返行程的估计时间(以毫秒为单位):</span><br><span class="line">    最短 = 0ms，最长 = 0ms，平均 = 0ms</span><br></pre></td></tr></table></figure><h3 id="使用XShell验证SSH连接"><a href="#使用XShell验证SSH连接" class="headerlink" title="使用XShell验证SSH连接"></a>使用XShell验证SSH连接</h3><p><img src="https://ichenxiaobin.cn/blog/images/20180928143145.gif" alt="使用XShell验证SSH连接"></p>]]></content>
    
    <summary type="html">
    
      本篇主要介绍如何使用SSH模拟远程登陆服务器，VMware虚拟机系统Deepin充当服务器，本机win10系统充当客户机，搭建使用客户机远程登陆ssh。
    
    </summary>
    
      <category term="实践检验" scheme="https://hugo1993.gitee.io/categories/%E5%AE%9E%E8%B7%B5%E6%A3%80%E9%AA%8C/"/>
    
    
      <category term="Linux" scheme="https://hugo1993.gitee.io/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>使用pyenv进行python多版本控制</title>
    <link href="https://hugo1993.gitee.io/2018/05/01/use-pyenv-manage-python/"/>
    <id>https://hugo1993.gitee.io/2018/05/01/use-pyenv-manage-python/</id>
    <published>2018-05-01T13:48:03.000Z</published>
    <updated>2019-03-10T16:14:07.218Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="安装pyenv"><a href="#安装pyenv" class="headerlink" title="安装pyenv"></a>安装pyenv</h2><h3 id="使用homebrew安装pyenv"><a href="#使用homebrew安装pyenv" class="headerlink" title="使用homebrew安装pyenv"></a>使用homebrew安装pyenv</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">brew update</span><br><span class="line">brew install pyenv</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 只需要执行一次即可 </span></span><br><span class="line">echo 'eval "$(pyenv init -)"' &gt;&gt; ~/.bash_profile </span><br><span class="line">或者：</span><br><span class="line">echo 'eval "$(pyenv init -)"' &gt;&gt; ~/.zshrc</span><br></pre></td></tr></table></figure><p>之后如果需要更新pyenv，可以直接使用<code>brew upgrade pyenv</code></p><h3 id="基于GitHub的安装pyenv"><a href="#基于GitHub的安装pyenv" class="headerlink" title="基于GitHub的安装pyenv"></a>基于GitHub的安装pyenv</h3><h4 id="克隆仓库"><a href="#克隆仓库" class="headerlink" title="克隆仓库"></a>克隆仓库</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/pyenv/pyenv.git  ~/.pyenv</span><br></pre></td></tr></table></figure><h4 id="指明环境变量"><a href="#指明环境变量" class="headerlink" title="指明环境变量"></a>指明环境变量</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">echo 'export PYENV_ROOT="$HOME/.pyenv"' &gt;&gt; ~/.bash_profile </span><br><span class="line">echo 'export PATH="$PYENV_ROOT/bin:$PATH"' &gt;&gt; ~/.bash_profile </span><br><span class="line"></span><br><span class="line">或者</span><br><span class="line">echo 'export PYENV_ROOT="$HOME/.pyenv"' &gt;&gt; ~/.zshrc </span><br><span class="line">echo 'export PATH="$PYENV_ROOT/bin:$PATH"' &gt;&gt; ~/.zshrc</span><br></pre></td></tr></table></figure><h4 id="开启shims-and-autocompletion"><a href="#开启shims-and-autocompletion" class="headerlink" title="开启shims and autocompletion"></a>开启shims and autocompletion</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">echo 'eval "$(pyenv init -)"' &gt;&gt; ~/.bash_profile</span><br><span class="line"></span><br><span class="line">或者：</span><br><span class="line">echo 'eval "$(pyenv init -)"' &gt;&gt; ~/.zshrc</span><br></pre></td></tr></table></figure><h4 id="重新启动shell让其生效"><a href="#重新启动shell让其生效" class="headerlink" title="重新启动shell让其生效"></a>重新启动shell让其生效</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exec $SHELL</span><br></pre></td></tr></table></figure><h4 id="升级pyenv"><a href="#升级pyenv" class="headerlink" title="升级pyenv"></a>升级pyenv</h4><ul><li>升级到最新版</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd ~/.pyenv </span><br><span class="line">git pull</span><br></pre></td></tr></table></figure><ul><li>升级到指定版本</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd ~/.pyenv</span><br><span class="line">git fetch</span><br><span class="line">git tag</span><br><span class="line">git checkout v0.1.0</span><br></pre></td></tr></table></figure><h2 id="安装python"><a href="#安装python" class="headerlink" title="安装python"></a>安装python</h2><h3 id="查看已安装python版本"><a href="#查看已安装python版本" class="headerlink" title="查看已安装python版本"></a>查看已安装python版本</h3><p>  带星号的为当前路径下所使用的python版本。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pyenv versions</span><br><span class="line"></span><br><span class="line">* system</span><br><span class="line">  3.4.1</span><br></pre></td></tr></table></figure><h3 id="查看可安装的python版本"><a href="#查看可安装的python版本" class="headerlink" title="查看可安装的python版本"></a>查看可安装的python版本</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pyenv install -l</span><br></pre></td></tr></table></figure><h3 id="安装python-1"><a href="#安装python-1" class="headerlink" title="安装python"></a>安装python</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pyenv install &lt;version&gt;</span><br><span class="line"></span><br><span class="line">比如：</span><br><span class="line">pyenv install 3.6.5</span><br></pre></td></tr></table></figure><h3 id="python版本管理命令"><a href="#python版本管理命令" class="headerlink" title="python版本管理命令"></a>python版本管理命令</h3><table><thead><tr><th style="text-align:center">命令</th><th style="text-align:center">解释</th></tr></thead><tbody><tr><td style="text-align:center">pyenv commands</td><td style="text-align:center">列出可以使用的命令</td></tr><tr><td style="text-align:center">pyenv versions</td><td style="text-align:center">列出pyenv安装的所有组件，包括site package</td></tr><tr><td style="text-align:center">pyenv version</td><td style="text-align:center">查看当前的python version</td></tr><tr><td style="text-align:center">pyenv install  3.5.4</td><td style="text-align:center">安装python3.5.4</td></tr><tr><td style="text-align:center">pyenv which python3.5</td><td style="text-align:center">列出给定的python version可执行文件位置</td></tr><tr><td style="text-align:center">pyenv install –list</td><td style="text-align:center">列出所有可以安装的包括python version，pypy等</td></tr><tr><td style="text-align:center">pyenv rehash</td><td style="text-align:center">在安装新版本的Python之后运行此命令，或安装提供二进制文件的软件包。</td></tr><tr><td style="text-align:center">pyenv uninstall 3.5.4</td><td style="text-align:center">拆卸python指代版本</td></tr><tr><td style="text-align:center">pyenv global version</td><td style="text-align:center">全局设置python版本为指定版本</td></tr><tr><td style="text-align:center">pyenv local version</td><td style="text-align:center">设置当前路径下python版本为指定版本</td></tr><tr><td style="text-align:center">pyenv shell version</td><td style="text-align:center">设置当前shell窗口使用的python版本为指定版本</td></tr></tbody></table><blockquote><p>使用pyenv切换python版本之后可以通过which python或者是python –version查看是否生效</p></blockquote><h2 id="相关链接"><a href="#相关链接" class="headerlink" title="相关链接"></a>相关链接</h2><ol><li>python版本控制器pyenv：<a href="https://my.oschina.net/songmingming/blog/226292" target="_blank" rel="noopener">https://my.oschina.net/songmingming/blog/226292</a></li><li>pyenv官方文档：<a href="https://github.com/pyenv/pyenv" target="_blank" rel="noopener">https://github.com/pyenv/pyenv</a></li></ol>]]></content>
    
    <summary type="html">
    
      python2和python3语法还是有些区别，为了体验python2和python3的不同，我们可以便捷地使用pyenv进行版本切换体验。
    
    </summary>
    
      <category term="实用技巧" scheme="https://hugo1993.gitee.io/categories/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/"/>
    
    
      <category term="mac" scheme="https://hugo1993.gitee.io/tags/mac/"/>
    
      <category term="python" scheme="https://hugo1993.gitee.io/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>CentOS 7安装Docker CE</title>
    <link href="https://hugo1993.gitee.io/2018/04/28/CentOS-7%E5%AE%89%E8%A3%85Docker/"/>
    <id>https://hugo1993.gitee.io/2018/04/28/CentOS-7安装Docker/</id>
    <published>2018-04-28T10:55:43.000Z</published>
    <updated>2019-02-27T14:48:22.431Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>　　Docker CE 支持 64 位版本 CentOS 7，并且要求内核版本不低于 3.10。 CentOS 7 满足最低内核的要求，但由于内核版本比较低，部分功能（如 overlay2 存储层驱动）无法使用，并且部分功能可能不太稳定。</p><a id="more"></a><h2 id="检查系统内核版本"><a href="#检查系统内核版本" class="headerlink" title="检查系统内核版本"></a>检查系统内核版本</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname -r</span><br></pre></td></tr></table></figure><h2 id="卸载旧版本"><a href="#卸载旧版本" class="headerlink" title="卸载旧版本"></a>卸载旧版本</h2><p>旧版本的 Docker 称为 docker 或者 docker-engine，使用以下命令卸载旧版本：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">sudo yum remove docker \</span><br><span class="line">                docker-client \</span><br><span class="line">                docker-client-latest \</span><br><span class="line">                docker-common \</span><br><span class="line">                docker-latest \</span><br><span class="line">                docker-latest-logrotate \</span><br><span class="line">                docker-logrotate \</span><br><span class="line">                docker-selinux \</span><br><span class="line">                docker-engine-selinux \</span><br><span class="line">                docker-engine</span><br></pre></td></tr></table></figure></p><h2 id="使用-yum-安装"><a href="#使用-yum-安装" class="headerlink" title="使用 yum 安装"></a>使用 yum 安装</h2><h3 id="安装所需依赖包："><a href="#安装所需依赖包：" class="headerlink" title="安装所需依赖包："></a>安装所需依赖包：</h3><p>  <code>yum-utils</code>提供yum-config-manager实用程序，devicemapper存储驱动程序需要<code>device-mapper-persistent-data</code>和<code>lvm2</code>。<br>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install -y yum-utils \</span><br><span class="line">         device-mapper-persistent-data \</span><br><span class="line">         lvm2</span><br></pre></td></tr></table></figure></p><h3 id="使用国内镜像加速安装"><a href="#使用国内镜像加速安装" class="headerlink" title="使用国内镜像加速安装"></a>使用国内镜像加速安装</h3><p>  鉴于国内网络问题，强烈建议使用国内源，官方源请在注释中查看。执行下面的命令添加 yum 软件源：<br>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo yum-config-manager --add-repo https://mirrors.ustc.edu.cn/docker-ce/linux/centos/docker-ce.repo</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 官方源</span><br><span class="line"># sudo yum-config-manager --add-repo  https://download.docker.com/linux/centos/docker-ce.repo</span><br></pre></td></tr></table></figure></p><h3 id="安装-Docker-CE"><a href="#安装-Docker-CE" class="headerlink" title="安装 Docker CE"></a>安装 Docker CE</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo yum makecache fast</span><br><span class="line">sudo yum install docker-ce</span><br></pre></td></tr></table></figure><h3 id="启动-Docker-CE"><a href="#启动-Docker-CE" class="headerlink" title="启动 Docker CE"></a>启动 Docker CE</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl enable docker</span><br><span class="line">sudo systemctl start docker</span><br></pre></td></tr></table></figure><h2 id="测试-Docker-是否安装正确"><a href="#测试-Docker-是否安装正确" class="headerlink" title="测试 Docker 是否安装正确"></a>测试 Docker 是否安装正确</h2><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">[root@hugo ~]#  docker run hello-world</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Unable to find image 'hello-world:latest' locally</span><br><span class="line">latest: Pulling from library/hello-world</span><br><span class="line">9bb5a5d4561a: Pull complete </span><br><span class="line">Digest: sha256:f5233545e43561214ca4891fd1157e1c3c563316ed8e237750d59bde73361e77</span><br><span class="line">Status: Downloaded newer image for hello-world:latest</span><br><span class="line"></span><br><span class="line">Hello from Docker!</span><br><span class="line">This message shows that your installation appears to be working correctly.</span><br><span class="line"></span><br><span class="line">To generate this message, Docker took the following steps:</span><br><span class="line"> 1. The Docker client contacted the Docker daemon.</span><br><span class="line"> 2. The Docker daemon pulled the "hello-world" image from the Docker Hub.</span><br><span class="line">    (amd64)</span><br><span class="line"> 3. The Docker daemon created a new container from that image which runs the</span><br><span class="line">    executable that produces the output you are currently reading.</span><br><span class="line"> 4. The Docker daemon streamed that output to the Docker client, which sent it</span><br><span class="line">    to your terminal.</span><br><span class="line"></span><br><span class="line">To try something more ambitious, you can run an Ubuntu container with:</span><br><span class="line"><span class="meta"> $</span><span class="bash"> docker run -it ubuntu bash</span></span><br><span class="line"></span><br><span class="line">Share images, automate workflows, and more with a free Docker ID:</span><br><span class="line"> https://hub.docker.com/</span><br><span class="line"></span><br><span class="line">For more examples and ideas, visit:</span><br><span class="line"> https://docs.docker.com/engine/userguide/</span><br></pre></td></tr></table></figure><h2 id="镜像加速"><a href="#镜像加速" class="headerlink" title="镜像加速"></a>镜像加速</h2><p>鉴于国内网络问题，后续拉取 Docker 镜像十分缓慢，强烈建议安装 Docker 之后配置 国内镜像加速。</p><h3 id="使用Docker提供的中国镜像"><a href="#使用Docker提供的中国镜像" class="headerlink" title="使用Docker提供的中国镜像"></a>使用Docker提供的中国镜像</h3><p>对于使用 systemd 的系统，请在 <code>/etc/docker/daemon.json</code> 中写入如下内容（如果文件不存在请新建该文件）<br><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"registry-mirrors"</span>: [</span><br><span class="line">    <span class="string">"https://registry.docker-cn.com"</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><blockquote><p><strong>注意：</strong>一定要保证该文件符合 json 规范，否则 Docker 将不能启动。</p></blockquote><h3 id="使用DaoCloud加速器"><a href="#使用DaoCloud加速器" class="headerlink" title="使用DaoCloud加速器"></a>使用DaoCloud加速器</h3><ul><li>除了使用以上的Docker官方提供的中国镜像加速下载镜像，还可以使用DaoCloud加速器提供的镜像加速下载镜像。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -sSL https://get.daocloud.io/daotools/set_mirror.sh | sh -s http://4094c782.m.daocloud.io</span><br></pre></td></tr></table></figure></li></ul><blockquote><p>该脚本可以将 –registry-mirror 加入到你的 Docker 配置文件 /etc/docker/daemon.json 中。适用于 Ubuntu14.04、Debian、CentOS6 、CentOS7、Fedora、Arch Linux、openSUSE Leap 42.1。</p></blockquote><h3 id="重新启动服务"><a href="#重新启动服务" class="headerlink" title="重新启动服务"></a>重新启动服务</h3><ul><li>使用以上的加速服务后重新启动docker。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></table></figure></li></ul><h3 id="检查加速器是否生效"><a href="#检查加速器是否生效" class="headerlink" title="检查加速器是否生效"></a>检查加速器是否生效</h3><p>配置加速器之后，如果拉取镜像仍然十分缓慢，请手动检查加速器配置是否生效，在命令行执行 <code>docker info</code>，如果从结果中看到了如下内容，说明配置成功。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker info</span><br><span class="line"></span><br><span class="line">Registry Mirrors:</span><br><span class="line"> https://registry.docker-cn.com/</span><br></pre></td></tr></table></figure></p><h2 id="相关链接"><a href="#相关链接" class="headerlink" title="相关链接"></a>相关链接</h2><ol><li>docker官方文档：<a href="https://docs.docker.com/install/linux/docker-ce/centos/#install-docker-ce-1" target="_blank" rel="noopener">https://docs.docker.com/install/linux/docker-ce/centos/#install-docker-ce-1</a></li><li>Docker —— 从入门到实践：<a href="https://yeasy.gitbooks.io/docker_practice/content/install/centos.html" target="_blank" rel="noopener">https://yeasy.gitbooks.io/docker_practice/content/install/centos.html</a></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;　　Docker CE 支持 64 位版本 CentOS 7，并且要求内核版本不低于 3.10。 CentOS 7 满足最低内核的要求，但由于内核版本比较低，部分功能（如 overlay2 存储层驱动）无法使用，并且部分功能可能不太稳定。&lt;/p&gt;
    
    </summary>
    
      <category term="实践检验" scheme="https://hugo1993.gitee.io/categories/%E5%AE%9E%E8%B7%B5%E6%A3%80%E9%AA%8C/"/>
    
    
      <category term="docker" scheme="https://hugo1993.gitee.io/tags/docker/"/>
    
      <category term="linux" scheme="https://hugo1993.gitee.io/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>IDEA 下实现 Spring Boot 中页面的热加载</title>
    <link href="https://hugo1993.gitee.io/2018/04/25/idea-dev-hotswap/"/>
    <id>https://hugo1993.gitee.io/2018/04/25/idea-dev-hotswap/</id>
    <published>2018-04-24T16:23:23.000Z</published>
    <updated>2019-02-27T14:48:22.430Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>　　当你写完一段代码后，要看到效果，必须点击 IDEA 的停止按钮，然后再次重启启动项目，你是否觉得这样很烦呢？启用 Spring Boot 热加载解决你的烦恼，提高开发效率！</p><a id="more"></a><h2 id="项目中添加-spring-dev-tools-依赖"><a href="#项目中添加-spring-dev-tools-依赖" class="headerlink" title="项目中添加 spring-dev-tools 依赖"></a>项目中添加 spring-dev-tools 依赖</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 热部署模块 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-devtools<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 这个需要为 true 热部署才有效 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="项目-pom-文件中添加-maven-插件"><a href="#项目-pom-文件中添加-maven-插件" class="headerlink" title="项目 pom 文件中添加 maven 插件"></a>项目 pom 文件中添加 maven 插件</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--如果没有该项配置，devtools不会起作用，即应用不会restart --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">fork</span>&gt;</span>true<span class="tag">&lt;/<span class="name">fork</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="修改-IDEA-配置"><a href="#修改-IDEA-配置" class="headerlink" title="修改 IDEA 配置"></a>修改 IDEA 配置</h2><h3 id="设置自动构建项目"><a href="#设置自动构建项目" class="headerlink" title="设置自动构建项目"></a>设置自动构建项目</h3><p>打开 <code>Settings</code> –&gt; <code>Build-Execution-Deployment</code> –&gt; <code>Compiler</code>，将 <code>Build project automatically</code>勾上。</p><p><img src="/resources/post_images/BuildProjectAutomatically.png" title="设置自动构建项目"></p><h3 id="修改编译设置"><a href="#修改编译设置" class="headerlink" title="修改编译设置"></a>修改编译设置</h3><p>点击 <code>Help</code> –&gt; <code>Find Action</code>，或使用快捷键 <code>Ctrl+Shift+A</code>来打开 <code>Registry...</code>，将 其中的<code>compiler.automake.allow.when.app.running</code>勾上。</p><p><img src="/resources/post_images/Registry.png" title="修改编译设置"></p><h2 id="个性化热部署配置"><a href="#个性化热部署配置" class="headerlink" title="个性化热部署配置"></a>个性化热部署配置</h2><p>在项目的<code>src/main/resources/application.properties</code>中配置自定义热部署配置。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#热部署生效</span><br><span class="line">spring.devtools.restart.enabled=true</span><br><span class="line"></span><br><span class="line">#设置重启的目录</span><br><span class="line">spring.devtools.restart.additional-paths=src/main/java</span><br><span class="line"></span><br><span class="line">#classpath目录下的WEB-INF文件夹内容修改不重启</span><br><span class="line">spring.devtools.restart.exclude=WEB-INF/**</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;　　当你写完一段代码后，要看到效果，必须点击 IDEA 的停止按钮，然后再次重启启动项目，你是否觉得这样很烦呢？启用 Spring Boot 热加载解决你的烦恼，提高开发效率！&lt;/p&gt;
    
    </summary>
    
      <category term="术业专攻" scheme="https://hugo1993.gitee.io/categories/%E6%9C%AF%E4%B8%9A%E4%B8%93%E6%94%BB/"/>
    
    
      <category term="IDEA" scheme="https://hugo1993.gitee.io/tags/IDEA/"/>
    
      <category term="spring boot" scheme="https://hugo1993.gitee.io/tags/spring-boot/"/>
    
  </entry>
  
  <entry>
    <title>Hexo使用 hexo-tag-dplayer 播放视频</title>
    <link href="https://hugo1993.gitee.io/2018/04/24/user-hexo-tag-dplayer/"/>
    <id>https://hugo1993.gitee.io/2018/04/24/user-hexo-tag-dplayer/</id>
    <published>2018-04-24T11:38:35.000Z</published>
    <updated>2019-02-27T14:48:22.429Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><style type="text/css">    .dplayer-video-container {        max-width: 800px;        margin: 0 auto;        margin-top: -1rem;    }</style><h2 id="使用效果"><a href="#使用效果" class="headerlink" title="使用效果"></a>使用效果</h2><p><div class="dplayer-video-container"><br>   <div id="dplayer0" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer0"),"theme":"#FADFA3","loop":true,"video":{"url":"/resources/video/火星人来过.mp4","pic":"/resources/video/火星人来过.jpg"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script></div></p><div><h2 id="如何使用？"><a href="#如何使用？" class="headerlink" title="如何使用？"></a>如何使用？</h2><h3 id="设置样式居中"><a href="#设置样式居中" class="headerlink" title="设置样式居中"></a>设置样式居中</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    .dplayer-video-container &#123;</span></span><br><span class="line"><span class="undefined">        max-width: 800px;</span></span><br><span class="line"><span class="undefined">        margin: 0 auto;</span></span><br><span class="line"><span class="undefined">        margin-top: -1rem;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="使用标签"><a href="#使用标签" class="headerlink" title="使用标签"></a>使用标签</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;dplayer-video-container&quot;&gt;</span><br><span class="line">&#123;% </span><br><span class="line">    dplayer     &quot;url=/resources/video/火星人来过.mp4&quot;   &quot;pic=/resources/video/火星人来过.jpg&quot;  </span><br><span class="line">    &quot;loop=yes&quot;  &quot;theme=#FADFA3&quot;     &quot;autoplay=false&quot; </span><br><span class="line">%&#125;</span><br><span class="line">&lt;div&gt;</span><br></pre></td></tr></table></figure><h2 id="相关链接"><a href="#相关链接" class="headerlink" title="相关链接"></a>相关链接</h2><blockquote><ol><li>hexo-tag-dplayer官方文档：<a href="https://github.com/MoePlayer/hexo-tag-dplayer" target="_blank" rel="noopener">https://github.com/MoePlayer/hexo-tag-dplayer</a></li><li>Dplayer官方文档： <a href="http://dplayer.js.org/#/zh-Hans/" target="_blank" rel="noopener">http://dplayer.js.org/#/zh-Hans/</a></li></ol></blockquote></div>]]></content>
    
    <summary type="html">
    
      本篇介绍hexo中的视频插件hexo-tag-dplayer，让你在hexo中轻松快捷的使用标签就能播放视频，让博客更加生动，更加有活力。
    
    </summary>
    
      <category term="实践检验" scheme="https://hugo1993.gitee.io/categories/%E5%AE%9E%E8%B7%B5%E6%A3%80%E9%AA%8C/"/>
    
    
      <category term="hexo" scheme="https://hugo1993.gitee.io/tags/hexo/"/>
    
      <category term="DPlayer" scheme="https://hugo1993.gitee.io/tags/DPlayer/"/>
    
  </entry>
  
  <entry>
    <title>Hexo使用 Dplayer 播放视频</title>
    <link href="https://hugo1993.gitee.io/2018/04/23/user-dplayer/"/>
    <id>https://hugo1993.gitee.io/2018/04/23/user-dplayer/</id>
    <published>2018-04-23T08:31:57.000Z</published>
    <updated>2019-02-27T14:48:22.426Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><style type="text/css">    #dplayer-video-container {        max-width: 800px;        margin: 0 auto;        margin-top: -1rem;    }    @media screen and (max-device-width: 400px) {        #dplayer {            width: 100%;        }    }</style><h2 id="使用Dplayer效果"><a href="#使用Dplayer效果" class="headerlink" title="使用Dplayer效果"></a>使用Dplayer效果</h2><p><link rel="stylesheet" href="/assets/css/DPlayer.min.css"></p><p><div id="dplayer-video-container"><br>    <div id="dplayer"></div></div></p><p><div></div></p><script src="/assets/js/DPlayer.min.js"></script><script>    const dp = new DPlayer({        container: document.getElementById('dplayer'),  <!-- 播放器容器元素 -->        autoplay: false,                                <!-- 视频自动播放 -->        theme:    '#b7daff',                                  <!-- 主题色 -->        loop: true,                                    <!-- 视频循环播放 -->        lang: 'zh-cn',                                  <!-- 播放器语言设置 -->        screenshot: false,                              <!-- 开启截图 -->        hotkey: true,                                      <!-- 开启热键 -->                                preload: 'auto',                                <!-- 开启预加载 -->        volume    : 0.7,                                    <!-- 默认音量 -->        mutex: true,                                    <!-- 互斥，阻止多个播放器同时播放 -->        video: {            url: '/resources/video/火星人来过.mp4',            pic: '/resources/video/火星人来过.jpg'        },        contextmenu: [                                 <!-- 自定义右键菜单-->             {                text: '本博客地址',                link: 'https://helloblack2017.github.io/'            },            {                text: '播放器信息',                click: (player) => {                    console.log(player);                }            }        ]    });</script><h2 id="如何使用？"><a href="#如何使用？" class="headerlink" title="如何使用？"></a>如何使用？</h2><h3 id="设置-div-容器并引入css和-js"><a href="#设置-div-容器并引入css和-js" class="headerlink" title="设置 div 容器并引入css和 js"></a>设置 div 容器并引入css和 js</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    #dplayer-video-container &#123;</span></span><br><span class="line"><span class="undefined">        max-width: 800px;</span></span><br><span class="line"><span class="undefined">        margin: 0 auto;</span></span><br><span class="line"><span class="undefined">        margin-top: -1rem;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">    @media screen and (max-device-width: 400px) &#123;</span></span><br><span class="line"><span class="undefined">        #dplayer &#123;</span></span><br><span class="line"><span class="undefined">            width: 100%;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span>  </span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"/assets/css/DPlayer.min.css"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"dplayer-video-container"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"dplayer"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/assets/js/DPlayer.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="设置播放视频"><a href="#设置播放视频" class="headerlink" title="设置播放视频"></a>设置播放视频</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">const</span> dp = <span class="keyword">new</span> DPlayer(&#123;</span><br><span class="line">        container: <span class="built_in">document</span>.getElementById(<span class="string">'dplayer'</span>),  &lt;!-- 播放器容器元素 --&gt;</span><br><span class="line">        autoplay: <span class="literal">false</span>,                                &lt;!-- 视频自动播放 --&gt;</span><br><span class="line">        theme:<span class="string">'#b7daff'</span>,                               &lt;!-- 主题色 --&gt;</span><br><span class="line">        loop: <span class="literal">true</span>,                                    &lt;!-- 视频循环播放 --&gt;</span><br><span class="line">        lang: <span class="string">'zh-cn'</span>,                                  &lt;!-- 播放器语言设置 --&gt;</span><br><span class="line">        screenshot: <span class="literal">false</span>,                              &lt;!-- 开启截图 --&gt;</span><br><span class="line">        hotkey: <span class="literal">true</span>,                                  &lt;!-- 开启热键 --&gt;                        </span><br><span class="line">        preload: <span class="string">'auto'</span>,                                &lt;!-- 开启预加载 --&gt;</span><br><span class="line">        volume: <span class="number">0.7</span>,                                    &lt;!-- 默认音量 --&gt;</span><br><span class="line">        mutex: <span class="literal">true</span>,                                    &lt;!-- 互斥，阻止多个播放器同时播放 --&gt;</span><br><span class="line">        video: &#123;</span><br><span class="line">            url: <span class="string">'/resources/video/火星人来过.mp4'</span>,      &lt;!-- 视频地址 --&gt;</span><br><span class="line">            pic: <span class="string">'/resources/video/火星人来过.jpg'</span>         &lt;!-- 视频封面 --&gt;</span><br><span class="line">        &#125;,</span><br><span class="line">        contextmenu: [                                 <span class="xml"><span class="comment">&lt;!-- 自定义右键菜单--&gt;</span> </span></span><br><span class="line"><span class="xml">            &#123;</span></span><br><span class="line"><span class="xml">                text: '本博客地址',</span></span><br><span class="line"><span class="xml">                link: 'https://helloblack2017.github.io/'</span></span><br><span class="line"><span class="xml">            &#125;,</span></span><br><span class="line"><span class="xml">            &#123;</span></span><br><span class="line"><span class="xml">                text: '播放器信息',</span></span><br><span class="line"><span class="xml">                click: (player) =&gt; &#123;</span></span><br><span class="line"><span class="xml">                    console.log(player);</span></span><br><span class="line"><span class="xml">                &#125;</span></span><br><span class="line"><span class="xml">            &#125;</span></span><br><span class="line"><span class="xml">        ]</span></span><br><span class="line"><span class="xml">    &#125;);</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h2 id="相关链接"><a href="#相关链接" class="headerlink" title="相关链接"></a>相关链接</h2><blockquote><p>🍭 DPlayer 官方文档： <a href="http://dplayer.js.org/#/zh-Hans/" target="_blank" rel="noopener">http://dplayer.js.org/#/zh-Hans/</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      DPlayer：一款漂亮的HTML5视频播放器，由于hexo的markdown文件中支持html语法，可以使用原生的DPlayer进行嵌套渲染。
    
    </summary>
    
      <category term="实践检验" scheme="https://hugo1993.gitee.io/categories/%E5%AE%9E%E8%B7%B5%E6%A3%80%E9%AA%8C/"/>
    
    
      <category term="hexo" scheme="https://hugo1993.gitee.io/tags/hexo/"/>
    
      <category term="DPlayer" scheme="https://hugo1993.gitee.io/tags/DPlayer/"/>
    
  </entry>
  
  <entry>
    <title>Hexo使用 hexo-tag-aplayer 播放音乐</title>
    <link href="https://hugo1993.gitee.io/2018/04/22/use-hexo-tag-aplayer/"/>
    <id>https://hugo1993.gitee.io/2018/04/22/use-hexo-tag-aplayer/</id>
    <published>2018-04-22T14:18:46.000Z</published>
    <updated>2019-02-27T14:48:22.428Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><style>    .aplayer {        width: 50%;        margin: 0 auto;    }    #metingJs{        width: 50%;        display: block;        margin: 0 auto;    }    @media screen and (max-device-width: 400px) {        .aplayer {            width: 100%;        }        #metingJs{            width: 100%;        }    }</style><h2 id="使用效果"><a href="#使用效果" class="headerlink" title="使用效果"></a>使用效果</h2>        <div id="aplayer-fEaMPaLt" class="aplayer aplayer-tag-marker" style="margin-bottom: 20px;">            <pre class="aplayer-lrc-content"></pre>        </div>        <script>          var ap = new APlayer({            element: document.getElementById("aplayer-fEaMPaLt"),            narrow: false,            autoplay: false,            showlrc: false,            music: {              title: "演员",              author: "薛之谦",              url: "/resources/music/演员.mp3",              pic: "/resources/music/演员.jpg",              lrc: ""            }          });          window.aplayers || (window.aplayers = []);          window.aplayers.push(ap);        </script>        <div id="aplayer-qUepVtPw" class="aplayer aplayer-tag-marker" style="margin-bottom: 20px;"></div>  <script>  var options = {"narrow":false,"autoplay":false,"showlrc":3,"mode":"random","mutex":true,"theme":"#e6d0b2","preload":"metadata","listmaxheight":"513px","width":"50%","music":[{"title":"认真的雪","author":"薛之谦","url":"/resources/music/你还要我怎样.mp3","pic":"/resources/music/认真的雪.jpg","lrc":"/resources/music/认真的雪.lrc"},{"title":"演员","author":"薛之谦","url":"/resources/music/演员.mp3","pic":"/resources/music/演员.jpg","lrc":"/resources/music/认真的雪.lrc"}]};  options.element = document.getElementById("aplayer-qUepVtPw");  var ap = new APlayer(options);    window.aplayers || (window.aplayers = []);  window.aplayers.push(ap);  </script><h2 id="使用-hexo-tag-aplayer"><a href="#使用-hexo-tag-aplayer" class="headerlink" title="使用 hexo-tag-aplayer"></a>使用 hexo-tag-aplayer</h2><h3 id="歌曲单曲标签使用"><a href="#歌曲单曲标签使用" class="headerlink" title="歌曲单曲标签使用"></a>歌曲单曲标签使用</h3><h4 id="标签模版："><a href="#标签模版：" class="headerlink" title="标签模版："></a><strong>标签模版：</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% aplayer title author url [picture_url, narrow, autoplay, width:xxx, lrc:xxx] %&#125;</span><br></pre></td></tr></table></figure><h4 id="使用实例："><a href="#使用实例：" class="headerlink" title="使用实例："></a>使用实例：</h4><ol><li>设置标签：</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% aplayer &quot;Caffeine&quot; &quot;Jeff Williams&quot; &quot;caffeine.mp3&quot; &quot;picture.jpg&quot; &quot;narrow&quot; &quot;autoplay&quot; &quot;width:70%&quot; &quot;lrc:caffeine.txt&quot; %&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>设置居中并适应 pc 和手机端宽度</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    .aplayer &#123;</span></span><br><span class="line"><span class="undefined">        margin: 0 auto;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">    @media screen and (max-device-width: 400px) &#123;</span></span><br><span class="line"><span class="undefined">        .aplayer &#123;</span></span><br><span class="line"><span class="undefined">            width: 100%;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>3. 更多标签参数设置:</strong></p><ul><li><code>title</code> <strong>:</strong> 曲目标题</li><li><code>author</code> <strong>:</strong> 曲目作者</li><li><code>url</code> <strong>:</strong> 音乐文件 URL 地址</li><li><code>picture_url</code> <strong>:</strong> (可选) 音乐对应的图片地址</li><li><code>narrow</code> <strong>:</strong>（可选）播放器袖珍风格</li><li><code>autoplay</code> <strong>:</strong> (可选) 自动播放，移动端浏览器暂时不支持此功能</li><li><code>width</code> <strong>:</strong> xxx (可选) 播放器宽度 (默认: 100%)</li><li><code>lrc</code> <strong>: </strong>xxx（可选）歌词文件 URL 地址</li></ul><h3 id="歌曲列表标签使用"><a href="#歌曲列表标签使用" class="headerlink" title="歌曲列表标签使用"></a>歌曲列表标签使用</h3><h4 id="标签模版：-1"><a href="#标签模版：-1" class="headerlink" title="标签模版："></a>标签模版：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&#123;% aplayerlist %&#125;</span><br><span class="line">&#123;</span><br><span class="line">    &quot;narrow&quot;: false,                          // （可选）播放器袖珍风格</span><br><span class="line">    &quot;autoplay&quot;: true,                         // （可选) 自动播放，移动端浏览器暂时不支持此功能</span><br><span class="line">    &quot;mode&quot;: &quot;random&quot;,                         // （可选）曲目循环类型，有 &apos;random&apos;（随机播放）, &apos;single&apos; (单曲播放), &apos;circulation&apos; (循环播放), &apos;order&apos; (列表播放)， 默认：&apos;circulation&apos;</span><br><span class="line">    &quot;showlrc&quot;: 3,                             // （可选）歌词显示配置项，可选项有：1,2,3</span><br><span class="line">    &quot;mutex&quot;: true,                            // （可选）该选项开启时，如果同页面有其他 aplayer 播放，该播放器会暂停</span><br><span class="line">    &quot;theme&quot;: &quot;#e6d0b2&quot;,                      // （可选）播放器风格色彩设置，默认：#b7daff</span><br><span class="line">    &quot;preload&quot;: &quot;metadata&quot;,                    // （可选）音乐文件预载入模式，可选项： &apos;none&apos; &apos;metadata&apos; &apos;auto&apos;, 默认: &apos;auto&apos;</span><br><span class="line">    &quot;listmaxheight&quot;: &quot;513px&quot;,                 // (可选) 该播放列表的最大长度</span><br><span class="line">    &quot;music&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;title&quot;: &quot;CoCo&quot;,</span><br><span class="line">            &quot;author&quot;: &quot;Jeff Williams&quot;,</span><br><span class="line">            &quot;url&quot;: &quot;caffeine.mp3&quot;,</span><br><span class="line">            &quot;pic&quot;: &quot;caffeine.jpeg&quot;,</span><br><span class="line">            &quot;lrc&quot;: &quot;caffeine.txt&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;title&quot;: &quot;アイロニ&quot;,</span><br><span class="line">            &quot;author&quot;: &quot;鹿乃&quot;,</span><br><span class="line">            &quot;url&quot;: &quot;irony.mp3&quot;,</span><br><span class="line">            &quot;pic&quot;: &quot;irony.jpg&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line">&#123;% endaplayerlist %&#125;</span><br></pre></td></tr></table></figure><h4 id="使用示例："><a href="#使用示例：" class="headerlink" title="使用示例："></a>使用示例：</h4><ol><li>设置标签：</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&#123;% aplayerlist %&#125;</span><br><span class="line">&#123;</span><br><span class="line">    &quot;narrow&quot;: false,</span><br><span class="line">    &quot;autoplay&quot;: false,</span><br><span class="line">    &quot;mode&quot;: &quot;random&quot;,</span><br><span class="line">    &quot;showlrc&quot;: 3,</span><br><span class="line">    &quot;mutex&quot;: true,</span><br><span class="line">    &quot;theme&quot;: &quot;#e6d0b2&quot;,</span><br><span class="line">    &quot;preload&quot;: &quot;metadata&quot;,</span><br><span class="line">    &quot;listmaxheight&quot;: &quot;513px&quot;,</span><br><span class="line">    &quot;width&quot;: &quot;50%&quot;,</span><br><span class="line">    &quot;music&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;title&quot;: &quot;认真的雪&quot;,</span><br><span class="line">            &quot;author&quot;: &quot;薛之谦&quot;,</span><br><span class="line">            &quot;url&quot;: &quot;/resources/music/你还要我怎样.mp3&quot;,</span><br><span class="line">            &quot;pic&quot;: &quot;/resources/music/认真的雪.jpg&quot;,</span><br><span class="line">            &quot;lrc&quot;: &quot;认真的雪.lrc&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;title&quot;: &quot;演员&quot;,</span><br><span class="line">            &quot;author&quot;: &quot;薛之谦&quot;,</span><br><span class="line">            &quot;url&quot;: &quot;/resources/music/演员.mp3&quot;,</span><br><span class="line">            &quot;pic&quot;: &quot;/resources/music//演员.jpg&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line">&#123;% endaplayerlist %&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>设置居中并适应 pc 和手机端宽度</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    .aplayer &#123;</span></span><br><span class="line"><span class="undefined">        margin: 0 auto;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">    @media screen and (max-device-width: 400px) &#123;</span></span><br><span class="line"><span class="undefined">        .aplayer &#123;</span></span><br><span class="line"><span class="undefined">            width: 100%;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="高级使用：MetingJS-支持"><a href="#高级使用：MetingJS-支持" class="headerlink" title="高级使用：MetingJS 支持"></a>高级使用：MetingJS 支持</h2><h3 id="1-使用"><a href="#1-使用" class="headerlink" title="1. 使用"></a>1. 使用</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;%</span><br><span class="line">    meting   &quot;2180172149&quot;    &quot;netease&quot;       &quot;playlist&quot;    &quot;mutex:true&quot;</span><br><span class="line">    &quot;listmaxheight:340px&quot;    &quot;preload:auto&quot;  &quot;theme:#ad7a86</span><br><span class="line">%&#125;</span><br></pre></td></tr></table></figure><h3 id="2-设置"><a href="#2-设置" class="headerlink" title="2. 设置"></a>2. 设置</h3><table><thead><tr><th><strong>选项</strong></th><th><strong>默认值</strong></th><th><strong>描述</strong></th></tr></thead><tbody><tr><td>id</td><td><strong>必须值</strong></td><td>歌曲 id / 播放列表 id / 相册 id / 搜索关键字</td></tr><tr><td>server</td><td><strong>必须值</strong></td><td>音乐平台: netease, tencent, kugou, xiami, baidu</td></tr><tr><td>type</td><td><strong>必须值</strong></td><td>列表播放模式, circulation, random, single, order</td></tr><tr><td>autoplay</td><td>true</td><td>自动播放，移动端浏览器暂时不支持此功能</td></tr><tr><td>mutex</td><td>true</td><td>该选项开启时，如果同页面有其他 aplayer 播放，该播放器会暂停</td></tr><tr><td>listmaxheight</td><td>340px</td><td>播放列表的最大长度</td></tr><tr><td>preload</td><td>auto</td><td>音乐文件预载入模式，可选项： none, metadata, auto</td></tr><tr><td>theme</td><td>#ad7a86</td><td><div>播放器风格色彩设置</div></td></tr></tbody></table><h3 id="3-使用效果"><a href="#3-使用效果" class="headerlink" title="3. 使用效果"></a>3. 使用效果</h3><p><a href="/404.html" target="_blank"> <img id="metingJs" src="/resources/post_images/metingJs.png" title="使用MetingJS效果"> </a></p><h2 id="相关链接"><a href="#相关链接" class="headerlink" title="相关链接"></a>相关链接</h2><blockquote><p>官方使用手册：<a href="https://github.com/MoePlayer/hexo-tag-aplayer/blob/master/docs/README-zh_cn.md" target="_blank" rel="noopener">https://github.com/MoePlayer/hexo-tag-aplayer/blob/master/docs/README-zh_cn.md</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      本篇介绍hexo中的音乐插件hexo-tag-aplayer，让你在hexo中轻松快捷的使用标签就能播放音乐，让博客更加生动，更加有活力。
    
    </summary>
    
      <category term="实践检验" scheme="https://hugo1993.gitee.io/categories/%E5%AE%9E%E8%B7%B5%E6%A3%80%E9%AA%8C/"/>
    
    
      <category term="hexo" scheme="https://hugo1993.gitee.io/tags/hexo/"/>
    
      <category term="Aplayer" scheme="https://hugo1993.gitee.io/tags/Aplayer/"/>
    
  </entry>
  
  <entry>
    <title>Hexo 使用 APlayer 播放音乐</title>
    <link href="https://hugo1993.gitee.io/2018/04/22/use-aplayer/"/>
    <id>https://hugo1993.gitee.io/2018/04/22/use-aplayer/</id>
    <published>2018-04-22T11:17:21.000Z</published>
    <updated>2019-02-27T14:48:22.425Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><style>    #aplayer {        width: 50%;        margin: 0 auto;    }    #player {        width: 50%;        margin: 0 auto;    }    @media screen and (max-device-width: 400px) {        #aplayer {            width: 100%;        }    }     @media screen and (max-device-width: 400px) {        #player {            width: 100%;        }    }</style><h2 id="使用-Aplayer-效果"><a href="#使用-Aplayer-效果" class="headerlink" title="使用 Aplayer 效果"></a>使用 Aplayer 效果</h2><p><link rel="stylesheet" href="/assets/css/APlayer.min.css"></p><div id="player"></div><br><div id="aplayer"></div><script src="/assets/js/APlayer.min.js"></script><script>const app = new APlayer({    container: document.getElementById('player'),    audio: [        {            name: '你还要我怎样',            artist: '薛之谦',            url: '/resources/music/你还要我怎样.mp3',            cover: '/resources/music/你还要我怎样.jpg',            theme: '#46718b'        }    ]});const application = new APlayer({    container: document.getElementById('aplayer'),    mini: false,    autoplay: false,    theme: '#FADFA3',    loop: 'all',    order: 'random',    preload: 'auto',    volume: 0.7,    mutex: true,    listFolded: false,    listMaxHeight: '150px',    lrcType: 0,    audio: [        {            name: '丑八怪',            artist: '薛之谦',            url: '/resources/music/丑八怪.mp3',            cover: '/resources/music/丑八怪.jpg',            theme: '#46718b'        },        {            name: '认真的雪',            artist: '薛之谦',            url: '/resources/music/认真的雪.mp3',            cover: '/resources/music/认真的雪.jpg',            theme: '#46718b'        },        {            name: '演员',            artist: '薛之谦',            url: '/resources/music/演员.mp3',            cover: '/resources/music/演员.jpg',            theme: '#46718b'        },        {            name: '你还要我怎样',            artist: '薛之谦',            url: '/resources/music/你还要我怎样.mp3',            cover: '/resources/music/你还要我怎样.jpg',            theme: '#46718b'        }    ]});</script><h2 id="如何使用？"><a href="#如何使用？" class="headerlink" title="如何使用？"></a>如何使用？</h2><h3 id="设置-div-容器并引css和-js"><a href="#设置-div-容器并引css和-js" class="headerlink" title="设置 div 容器并引css和 js"></a>设置 div 容器并引css和 js</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    #aplayer &#123;</span></span><br><span class="line"><span class="undefined">        width: 50%;</span></span><br><span class="line"><span class="undefined">        margin: 0 auto;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">    @media screen and (max-device-width: 400px) &#123;</span></span><br><span class="line"><span class="undefined">        #aplayer &#123;</span></span><br><span class="line"><span class="undefined">            width: 100%;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"/assets/css/APlayer.min.css"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"aplayer"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/assets/js/APlayer.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="设置单曲"><a href="#设置单曲" class="headerlink" title="设置单曲"></a>设置单曲</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> APlayer(&#123;</span><br><span class="line">    container: <span class="built_in">document</span>.getElementById(<span class="string">'aplayer'</span>),</span><br><span class="line">    audio: [&#123;</span><br><span class="line">        name: <span class="string">'丑八怪'</span>,                          &lt;!-- 歌曲名称--&gt;</span><br><span class="line">        artist: <span class="string">'薛之谦'</span>,                        &lt;!-- 歌曲作者--&gt;</span><br><span class="line">        url: <span class="string">'/resources/music/丑八怪.mp3'</span>,      &lt;!-- 歌曲路径--&gt;</span><br><span class="line">        cover: <span class="string">'/resources/music/认真的雪.jpg'</span>,  &lt;!-- 歌曲封面图片--&gt;</span><br><span class="line">        theme: <span class="string">'#46718b'</span>                        &lt;!-- 选中歌曲的主题--&gt;</span><br><span class="line">    &#125;]</span><br><span class="line">&#125;);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><h3 id="设置歌曲列表"><a href="#设置歌曲列表" class="headerlink" title="设置歌曲列表"></a>设置歌曲列表</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">const</span> ap = <span class="keyword">new</span> APlayer(&#123;</span><br><span class="line">    container: <span class="built_in">document</span>.getElementById(<span class="string">'aplayer'</span>),</span><br><span class="line">    mini: <span class="literal">false</span>,            &lt;!-- 不启用迷你播放模式 --&gt;</span><br><span class="line">    autoplay: <span class="literal">false</span>,        &lt;!-- 音频不自动播放 --&gt;</span><br><span class="line">    theme: <span class="string">'#FADFA3'</span>,       &lt;!-- 主题色 --&gt;</span><br><span class="line">    loop: <span class="string">'all'</span>,            &lt;!-- 音频循环播放, 可选值: <span class="string">'all'</span>, <span class="string">'one'</span>, <span class="string">'none'</span>--&gt;</span><br><span class="line">    order: <span class="string">'random'</span>,        &lt;!-- 音频循环顺序, 可选值: <span class="string">'list'</span>, <span class="string">'random'</span>--&gt;</span><br><span class="line">    preload: <span class="string">'auto'</span>,        &lt;!-- 预加载，可选值: <span class="string">'none'</span>, <span class="string">'metadata'</span>, <span class="string">'auto'</span>--&gt;</span><br><span class="line">    volume: <span class="number">0.7</span>,            &lt;!-- 默认音量，请注意播放器会记忆用户设置，用户手动设置音量后默认音量即失效--&gt;</span><br><span class="line">    mutex: <span class="literal">true</span>,            &lt;!-- 互斥，阻止多个播放器同时播放，当前播放器播放时暂停其他播放器 --&gt;</span><br><span class="line">    listFolded: <span class="literal">false</span>,      &lt;!-- 列表默认折叠， <span class="literal">false</span>表示不折叠--&gt;</span><br><span class="line">    listMaxHeight: <span class="string">'120px'</span>, &lt;!-- 列表最大高度，超出此高度将有滚动条--&gt;</span><br><span class="line">    lrcType: <span class="number">0</span>,             &lt;!-- 歌词类型，<span class="number">0</span>表示不显示歌词--&gt;</span><br><span class="line">    audio: [</span><br><span class="line">        &#123;</span><br><span class="line">            name: <span class="string">'丑八怪'</span>,                         &lt;!-- 歌曲名称--&gt;</span><br><span class="line">            artist: <span class="string">'薛之谦'</span>,                       &lt;!-- 歌曲作者--&gt;</span><br><span class="line">            url: <span class="string">'/resources/music/丑八怪.mp3'</span>,     &lt;!-- 歌曲路径--&gt;</span><br><span class="line">            cover: <span class="string">'/resources/music/认真的雪.jpg'</span>, &lt;!-- 歌曲封面图片--&gt;</span><br><span class="line">            theme: <span class="string">'#46718b'</span>                       &lt;!-- 选中歌曲的主题--&gt;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            name: <span class="string">'丑八怪'</span>,</span><br><span class="line">            artist: <span class="string">'薛之谦'</span>,</span><br><span class="line">            url: <span class="string">'/resources/music/丑八怪.mp3'</span>,</span><br><span class="line">            cover: <span class="string">'/resources/music/认真的雪.jpg'</span>,</span><br><span class="line">            theme: <span class="string">'#46718b'</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            name: <span class="string">'丑八怪'</span>,</span><br><span class="line">            artist: <span class="string">'薛之谦'</span>,</span><br><span class="line">            url: <span class="string">'/resources/music/丑八怪.mp3'</span>,</span><br><span class="line">            cover: <span class="string">'/resources/music/认真的雪.jpg'</span>,</span><br><span class="line">            theme: <span class="string">'#46718b'</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><h2 id="相关链接"><a href="#相关链接" class="headerlink" title="相关链接"></a>相关链接</h2><blockquote><p>🍭 APlayer 官方文档： <a href="https://aplayer.js.org/#/zh-Hans/" target="_blank" rel="noopener">https://aplayer.js.org/#/zh-Hans/</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      APlayer：一款漂亮的HTML5音乐播放器，由于hexo的markdown文件中支持html语法，可以使用原生的APlayer进行嵌套渲染。
    
    </summary>
    
      <category term="实践检验" scheme="https://hugo1993.gitee.io/categories/%E5%AE%9E%E8%B7%B5%E6%A3%80%E9%AA%8C/"/>
    
    
      <category term="hexo" scheme="https://hugo1993.gitee.io/tags/hexo/"/>
    
      <category term="Aplayer" scheme="https://hugo1993.gitee.io/tags/Aplayer/"/>
    
  </entry>
  
  <entry>
    <title>Hexo日常使用技巧</title>
    <link href="https://hugo1993.gitee.io/2018/04/17/common-hexo-commands/"/>
    <id>https://hugo1993.gitee.io/2018/04/17/common-hexo-commands/</id>
    <published>2018-04-17T15:48:12.000Z</published>
    <updated>2019-02-27T14:48:22.423Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><style>    .article-entry h2 {        border-bottom: none;    }</style><h2 id="hexo命令"><a href="#hexo命令" class="headerlink" title="hexo命令"></a>hexo命令</h2><h3 id="hexo-s"><a href="#hexo-s" class="headerlink" title="hexo s"></a>hexo s</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure><p>启动本地服务器，用于预览主题。默认地址： <a href="http://localhost:4000/" target="_blank" rel="noopener">http://localhost:4000/</a></p><ul><li><code>hexo s</code> 是 <code>hexo server</code> 的缩写，命令效果一致；</li><li>预览的同时可以修改文章内容或主题代码，保存后刷新页面即可；</li><li>对 Hexo 根目录 <code>_config.yml</code> 的修改，需要重启本地服务器后才能预览效果。</li></ul><h3 id="hexo-n"><a href="#hexo-n" class="headerlink" title="hexo n"></a>hexo n</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo n &quot;学习笔记  六&quot;</span><br></pre></td></tr></table></figure><p>新建一篇标题为 <code>学习笔记  六</code> 的文章，因为标题里有空格，所以加上了引号。</p><ul><li>文章标题可以在对应 md 文件里改，新建时标题可以写的简单些；</li><li><code>hexo n</code> 是 <code>hexo new</code> 的缩写，命令效果一致。</li></ul><h3 id="hexo-d"><a href="#hexo-d" class="headerlink" title="hexo d"></a>hexo d</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure><p>自动生成网站静态文件，并部署到设定的仓库。</p><ul><li><code>hexo d</code> 是 <code>hexo deploy</code> 的缩写，命令效果一致。</li></ul><h3 id="hexo-clean"><a href="#hexo-clean" class="headerlink" title="hexo clean"></a>hexo clean</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br></pre></td></tr></table></figure><p>清除缓存文件 <code>db.json</code> 和已生成的静态文件 <code>public</code>。</p><ul><li>网站显示异常时可以执行这条命令试试。</li></ul><h3 id="hexo-g"><a href="#hexo-g" class="headerlink" title="hexo g"></a>hexo g</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br></pre></td></tr></table></figure><p>生成网站静态文件到默认设置的 <code>public</code> 文件夹。</p><ul><li>便于查看网站生成的静态文件或者手动部署网站；</li><li>如果使用自动部署，不需要先执行该命令；</li><li><code>hexo g</code> 是 <code>hexo generate</code> 的缩写，命令效果一致。</li></ul><h3 id="hexo-n-page"><a href="#hexo-n-page" class="headerlink" title="hexo n page"></a>hexo n page</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo n page aboutme</span><br></pre></td></tr></table></figure><p>新建一个标题为 <code>aboutme</code> 的页面，默认链接地址为 <code>主页地址/aboutme/</code></p><ul><li>标题可以为中文，但一般习惯用英文；</li><li>页面标题和文章一样可以随意修改；</li><li>页面不会出现在首页文章列表和归档中，也不支持设置分类和标签。</li></ul><h3 id="常用组合"><a href="#常用组合" class="headerlink" title="常用组合"></a>常用组合</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo s</span><br><span class="line">hexo clean &amp;&amp; hexo d</span><br></pre></td></tr></table></figure><p>可以用输入法等软件为这些命令设置快捷键，方便调用。</p><h3 id="相关说明"><a href="#相关说明" class="headerlink" title="相关说明"></a>相关说明</h3><ul><li>以上命令使用基于 Hexo 3.7.0 版本；</li><li>需要删掉用命令新建的文章或页面时，只需要进入 Hexo 根目录下的 <code>source</code> 文件夹，删除对应文件或文件夹即可；</li><li>更多命令用法请查询 <a href="https://hexo.io/zh-cn/docs/commands.html" target="_blank" rel="noopener">官方文档</a>。</li></ul><h2 id="日常操作技巧"><a href="#日常操作技巧" class="headerlink" title="日常操作技巧"></a>日常操作技巧</h2><h3 id="忽略渲染指定文件-夹"><a href="#忽略渲染指定文件-夹" class="headerlink" title="忽略渲染指定文件(夹)"></a>忽略渲染指定文件(夹)</h3><p><strong>使用_config.yml下的skip_render参数</strong>。</p><p>skip_render使用了minimatch，开始匹配的位置是基于你的source_dir的，一般来说，是你的source文件夹下。下面我分别列举几种常见的情况进行说明：</p><ol><li>单个文件夹下全部文件：<code>skip_render: test/*</code></li><li>单个文件夹下指定类型文件：<code>skip_render: test/*.md</code></li><li>单个文件夹下全部文件以及子目录:<code>skip_render: test/**</code></li><li>多个文件夹以及各种复杂情况：<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">skip_render:</span></span><br><span class="line"><span class="bullet"> -</span> <span class="string">`test1/*.html`</span></span><br><span class="line"><span class="bullet"> -</span> <span class="string">`test2/**`</span></span><br></pre></td></tr></table></figure></li></ol><blockquote><p>请注意yml中的文件格式，输入单个数据请注意空格，输入数组请进行缩进</p></blockquote><h3 id="文章头注释介绍"><a href="#文章头注释介绍" class="headerlink" title="文章头注释介绍"></a>文章头注释介绍</h3><ul><li><code>toc: true</code>                      显示目录</li><li><code>toc_list_number: true</code>          显示目录数字</li><li><code>comments: false</code>                不显示评论</li><li><code>original: true</code>                 显示最文章下方的原创</li><li><code>permalink: ssh-login-linux</code>     自定义文章链接地址</li><li><code>fancybox: true</code>                 图片点击单独显示</li></ul>]]></content>
    
    <summary type="html">
    
      本篇介绍了hexo常用的几个命令，包括hexo c，hexo g，hexo d，hexo s，hexo n page; 以及如何忽略渲染指定文件(夹)等等。
    
    </summary>
    
      <category term="借鉴学习" scheme="https://hugo1993.gitee.io/categories/%E5%80%9F%E9%89%B4%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="command" scheme="https://hugo1993.gitee.io/tags/command/"/>
    
      <category term="hexo" scheme="https://hugo1993.gitee.io/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>Hexo页面自动刷新与移动端调试</title>
    <link href="https://hugo1993.gitee.io/2018/04/16/hexo-browsersync/"/>
    <id>https://hugo1993.gitee.io/2018/04/16/hexo-browsersync/</id>
    <published>2018-04-16T14:17:41.000Z</published>
    <updated>2019-02-27T14:48:22.421Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><style type="text/css">    .article-entry img:first-child {          display: block;    }</style><p></p><h2 id="intro">前言</h2>经常本地调试 Hexo 主题, 如果有工具能监视文件更改幷自动刷新页面，那一定能提高不少效率，<a href="http://www.browsersync.cn/" target="_blank" rel="noopener">Browsersync</a> 就是这样一款浏览器同步测试工具。<p></p><a id="more"></a><h2 id="自动刷新"><a href="#自动刷新" class="headerlink" title="自动刷新"></a>自动刷新</h2><h3 id="安装-Browsersync"><a href="#安装-Browsersync" class="headerlink" title="安装 Browsersync"></a>安装 Browsersync</h3><ul><li>Browsersync 依赖包较多，Mac 和 Linux 中建议加上 <code>sudo</code> 避免安装时因权限不足而报错</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g browser-sync</span><br></pre></td></tr></table></figure><ul><li>安装结束后执行下面命令，能显示对应版本则表示安装成功</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">browser-sync --version</span><br></pre></td></tr></table></figure><blockquote><p>如果显示无此命令，请尝试使用 <a href="http://npm.taobao.org/" target="_blank" rel="noopener">淘宝 NPM 镜像</a>，或者全局科学上网后再安装</p></blockquote><h3 id="安装-Hexo-端插件"><a href="#安装-Hexo-端插件" class="headerlink" title="安装 Hexo 端插件"></a>安装 Hexo 端插件</h3><ul><li>要把 Browsersync 应用到 Hexo 上，还需要安装一个小插件 <a href="https://github.com/hexojs/hexo-browsersync" target="_blank" rel="noopener">hexo-browsersync</a> 。命令行中进入 Hexo 根目录，执行以下命令:</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-browsersync --save</span><br></pre></td></tr></table></figure><ul><li>安装后像往常一样执行 <code>hexo s</code> 开启本地服务器，当相关文件被修改或者保存时，关联的浏览器页面会自带刷新</li></ul><h3 id="一些不足"><a href="#一些不足" class="headerlink" title="一些不足"></a>一些不足</h3><ul><li>变动后将重新加载整个页面，不能局部刷新；</li><li>使用 Hexo 自带服务器时，无法在移动端调试；</li><li>偶尔会报错，需要多保存几次；</li></ul><h2 id="移动端调试"><a href="#移动端调试" class="headerlink" title="移动端调试"></a>移动端调试</h2><p>如果只是为了自动刷新页面，或许使用 LiveReload 就够了。Browsersync 真正强大之处在于其多设备调试功能，局域网设备访问同一网址，页面同步变动。</p><h3 id="生成静态文件"><a href="#生成静态文件" class="headerlink" title="生成静态文件"></a>生成静态文件</h3><ul><li>要在移动端调试，需要先生成 Hexo 站点的静态文件</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br></pre></td></tr></table></figure><h3 id="开启服务"><a href="#开启服务" class="headerlink" title="开启服务"></a>开启服务</h3><ul><li>命令行进入静态文件所在的文件夹，默认为 Hexo 根目录下的 <code>public</code>，然后执行以下命令：</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">browser-sync start --server --files <span class="string">"css/*.css, *.html"</span></span><br></pre></td></tr></table></figure><ul><li>输入完毕按回车，会自动打开网站首页</li><li>更多命令行用法请参考 <a href="http://www.browsersync.cn/docs/command-line/" target="_blank" rel="noopener">官方文档</a></li></ul><h3 id="局域网访问"><a href="#局域网访问" class="headerlink" title="局域网访问"></a>局域网访问</h3><ul><li>回到命令行窗口，External 那行的 IP 地址就是局域网地址，打开你的手机平板访问即可，各种操作和文件修改都会同步变动，调试极为便利</li></ul><p><img src="/resources/post_images/browsersync.gif" align="center" width="95%" title="browsersync-2"></p><blockquote><p>此种方式不是直接修改主题源文件，所以平时一般使用 Hexo 本地服务修改样式，有需要时再生成静态文件在移动端测试页面效果</p></blockquote><h2 id="相关链接"><a href="#相关链接" class="headerlink" title="相关链接"></a>相关链接</h2><ol><li>Browsersync: <a href="http://www.browsersync.cn/" target="_blank" rel="noopener">http://www.browsersync.cn/</a></li><li>hexo-browsersync: <a href="https://github.com/hexojs/hexo-browsersync" target="_blank" rel="noopener">https://github.com/hexojs/hexo-browsersync</a></li><li>淘宝 NPM 镜像: <a href="http://npm.taobao.org/" target="_blank" rel="noopener">http://npm.taobao.org/</a></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;style type=&quot;text/css&quot;&gt;
    .article-entry img:first-child {
          display: block;
    }
&lt;/style&gt;


&lt;p&gt;&lt;/p&gt;&lt;h2 id=&quot;intro&quot;&gt;前言&lt;/h2&gt;经常本地调试 Hexo 主题, 如果有工具能监视文件更改幷自动刷新页面，那一定能提高不少效率，&lt;a href=&quot;http://www.browsersync.cn/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Browsersync&lt;/a&gt; 就是这样一款浏览器同步测试工具。&lt;p&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="借鉴学习" scheme="https://hugo1993.gitee.io/categories/%E5%80%9F%E9%89%B4%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="hexo" scheme="https://hugo1993.gitee.io/tags/hexo/"/>
    
      <category term="Browsersync" scheme="https://hugo1993.gitee.io/tags/Browsersync/"/>
    
  </entry>
  
  <entry>
    <title>Hexo建立谷歌站点地图</title>
    <link href="https://hugo1993.gitee.io/2018/04/10/hexo-generate-google-sitemap/"/>
    <id>https://hugo1993.gitee.io/2018/04/10/hexo-generate-google-sitemap/</id>
    <published>2018-04-09T16:30:36.000Z</published>
    <updated>2019-02-27T15:49:17.903Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><style type="text/css">    .article-entry img:first-child {          display: block;    }</style><h2 id="1-什么是站点地图"><a href="#1-什么是站点地图" class="headerlink" title="1. 什么是站点地图"></a>1. 什么是站点地图</h2><p>　　站点地图是一种文件，您可以通过该文件列出您网站上的网页，从而将您网站内容的组织架构告知Google和其他搜索引擎。Googlebot等搜索引擎网页抓取工具会读取此文件，以便更加智能地抓取您的网站。</p><a id="more"></a><p><img src="/resources/post_images/google.png" title="Google SiteMap"></p><h2 id="2-使用npm安装谷歌站点地图插件"><a href="#2-使用npm安装谷歌站点地图插件" class="headerlink" title="2. 使用npm安装谷歌站点地图插件"></a>2. 使用npm安装谷歌站点地图插件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-sitemap --save</span><br></pre></td></tr></table></figure><p><img src="/resources/post_images/npm.png" title="Google SiteMap" width="90%"></p><h2 id="3-开始生成站点地图文件"><a href="#3-开始生成站点地图文件" class="headerlink" title="3. 开始生成站点地图文件"></a>3. 开始生成站点地图文件</h2><ol><li>安装好插件后，插件会在每次<code>hexo g</code> 命令将 markdown 文件转化为 html 文件时执行时，在存放 html 文件根目录下，即 <code>[hexo install location]/public</code> 下生成一个 <code>sitemap.xml</code>文件。</li></ol><p><img src="/resources/post_images/sitemap.png" title="sitemap.xml" width="800px"></p><ol start="2"><li>紧接着在执行 <code>hexo d</code> 将站点地图文件部署到 github 仓库上之后，就完成了网站站点地图文件的生成。</li></ol><h2 id="4-在谷歌站长控制台添加地图url"><a href="#4-在谷歌站长控制台添加地图url" class="headerlink" title="4. 在谷歌站长控制台添加地图url"></a>4. 在谷歌站长控制台添加地图url</h2><p>打开<a href="https://search.google.com/search-console" target="_blank" rel="noopener">谷歌站长控制台</a>, 点击<code>抓取 ——&gt; 站点地图 ——&gt; 添加/删除站点地图</code>， 在其中填入<code>sitemap.xml</code>网站站点地图url就完成，等待差不多一天，然后在谷歌搜索中搜索<code>site helloblack2017.github.io</code>,查询到自己网站的页面就表明谷歌搜索已在抓取你的页面，站点地图生成成功。</p><h3 id="4-1-新版谷歌站长控制台"><a href="#4-1-新版谷歌站长控制台" class="headerlink" title="4.1 新版谷歌站长控制台"></a>4.1 新版谷歌站长控制台</h3><p><img src="/resources/post_images/NewSearchConsole.png" title="NewSearchConsole" width="100%"></p><h3 id="4-2-旧版谷歌站长控制台"><a href="#4-2-旧版谷歌站长控制台" class="headerlink" title="4.2 旧版谷歌站长控制台"></a>4.2 旧版谷歌站长控制台</h3><p><img src="/resources/post_images/SearchConsole.png" title="SearchConsole" width="100%"></p>]]></content>
    
    <summary type="html">
    
      &lt;style type=&quot;text/css&quot;&gt;
    .article-entry img:first-child {
          display: block;
    }
&lt;/style&gt;

&lt;h2 id=&quot;1-什么是站点地图&quot;&gt;&lt;a href=&quot;#1-什么是站点地图&quot; class=&quot;headerlink&quot; title=&quot;1. 什么是站点地图&quot;&gt;&lt;/a&gt;1. 什么是站点地图&lt;/h2&gt;&lt;p&gt;　　站点地图是一种文件，您可以通过该文件列出您网站上的网页，从而将您网站内容的组织架构告知Google和其他搜索引擎。Googlebot等搜索引擎网页抓取工具会读取此文件，以便更加智能地抓取您的网站。&lt;/p&gt;
    
    </summary>
    
      <category term="实践检验" scheme="https://hugo1993.gitee.io/categories/%E5%AE%9E%E8%B7%B5%E6%A3%80%E9%AA%8C/"/>
    
    
      <category term="hexo" scheme="https://hugo1993.gitee.io/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>使用Slf4j集成Log4j2</title>
    <link href="https://hugo1993.gitee.io/2018/03/02/slf4-integrate-log42/"/>
    <id>https://hugo1993.gitee.io/2018/03/02/slf4-integrate-log42/</id>
    <published>2018-03-02T04:53:39.000Z</published>
    <updated>2019-02-27T14:48:22.418Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="1-添加slf4j和log4j2的依赖"><a href="#1-添加slf4j和log4j2的依赖" class="headerlink" title="1. 添加slf4j和log4j2的依赖"></a>1. 添加slf4j和log4j2的依赖</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">log4j.version</span>&gt;</span>2.5<span class="tag">&lt;/<span class="name">log4j.version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">     <span class="comment">&lt;!-- slf4j + log4j2 begin --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- slf4j核心包--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.13<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jcl-over-slf4j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.13<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--用于与slf4j保持桥接--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.logging.log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j-slf4j-impl<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;log4j.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 桥接：告诉commons logging使用Log4j2 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.logging.log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j-jcl<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;log4j.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- log4j2 核心包--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.logging.log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;log4j.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.logging.log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;log4j.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--web工程需要包含log4j-web，非web工程不需要, 感觉可有可无--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.logging.log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.4.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--需要使用log4j2的AsyncLogger需要包含disruptor--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.lmax<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>disruptor<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.2.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- log4j end--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="2-web-xml中设置log4j2的监听器和过滤器"><a href="#2-web-xml中设置log4j2的监听器和过滤器" class="headerlink" title="2. web.xml中设置log4j2的监听器和过滤器"></a>2. web.xml中设置log4j2的监听器和过滤器</h2><p><strong>注意：servlet3.0及以上版本不需要该步操作</strong><br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--对于log4j2，Servlet2.5以前的版本需要--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">listener</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">listener-class</span>&gt;</span>org.apache.logging.log4j.web.Log4jServletContextListener<span class="tag">&lt;/<span class="name">listener-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">listener</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>log4jServletFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>org.apache.logging.log4j.web.Log4jServletFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>log4jServletFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dispatcher</span>&gt;</span>REQUEST<span class="tag">&lt;/<span class="name">dispatcher</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dispatcher</span>&gt;</span>FORWARD<span class="tag">&lt;/<span class="name">dispatcher</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dispatcher</span>&gt;</span>INCLUDE<span class="tag">&lt;/<span class="name">dispatcher</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dispatcher</span>&gt;</span>ERROR<span class="tag">&lt;/<span class="name">dispatcher</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure></p><blockquote><p>注意：log4j2不指定位置的情况下默认在src/main/resources下查找。</p></blockquote><p><strong>如果需要自定义位置，需要在上面的web.xml中添加以下代码</strong><br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">context-param</span>&gt;</span>  </span><br><span class="line">   <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>log4jConfiguration<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span>  </span><br><span class="line">   <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>/WEB-INF/classes/log4j2.xml<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">context-param</span>&gt;</span></span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      　　SLF4J，即简单日志门面（Simple Logging Facade for Java），提供了统一的记录日志的接口，只要按照其提供的方法记录即可，最终日志的格式、记录级别、输出方式等通过具体日志系统的配置来实现。
    
    </summary>
    
      <category term="术业专攻" scheme="https://hugo1993.gitee.io/categories/%E6%9C%AF%E4%B8%9A%E4%B8%93%E6%94%BB/"/>
    
    
      <category term="log4j" scheme="https://hugo1993.gitee.io/tags/log4j/"/>
    
      <category term="Slf4j" scheme="https://hugo1993.gitee.io/tags/Slf4j/"/>
    
  </entry>
  
  <entry>
    <title>log4j2基础讲解</title>
    <link href="https://hugo1993.gitee.io/2018/03/02/log4j-base-knowledge/"/>
    <id>https://hugo1993.gitee.io/2018/03/02/log4j-base-knowledge/</id>
    <published>2018-03-01T17:19:18.000Z</published>
    <updated>2019-02-27T14:48:22.417Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="1-配置文件加载顺序"><a href="#1-配置文件加载顺序" class="headerlink" title="1. 配置文件加载顺序"></a>1. 配置文件加载顺序</h2><h3 id="log4j会按照以下顺序寻找classpath的配置文件："><a href="#log4j会按照以下顺序寻找classpath的配置文件：" class="headerlink" title="log4j会按照以下顺序寻找classpath的配置文件："></a>log4j会按照以下顺序寻找classpath的配置文件：</h3><ol><li>log4j2-test.properties</li><li>log4j2-test.yaml or log4j2-test.yml </li><li>log4j2-test.json or log4j2-test.jsn</li><li>log4j2-test.xml </li><li>log4j2.properties</li><li>log4j2.yaml or log4j2.yml</li><li>log4j2.json or log4j2.jsn</li><li>log4j2.xml</li></ol><h2 id="2-配置文件节点解析"><a href="#2-配置文件节点解析" class="headerlink" title="2. 配置文件节点解析"></a>2. 配置文件节点解析</h2><h3 id="2-1-根节点Configuration"><a href="#2-1-根节点Configuration" class="headerlink" title="2.1 根节点Configuration"></a>2.1 根节点Configuration</h3><p><strong> 根节点Configuration有两个属性: <code>status</code>和<code>monitorinterval</code></strong></p><ul><li><code>status</code>用来指定log4j本身的打印日志的级别.</li><li><code>monitorinterval</code>用于指定log4j自动重新配置的监测间隔时间，单位是s,最小是5s.</li></ul><h3 id="2-2-子节点-Appenders"><a href="#2-2-子节点-Appenders" class="headerlink" title="2.2 子节点 Appenders"></a>2.2 子节点 Appenders</h3><p> <strong>Appenders子节点，常见的有三种子节点: Console、RollingFile、File</strong></p><h4 id="2-2-1-Console节点用来定义输出到控制台的Appender"><a href="#2-2-1-Console节点用来定义输出到控制台的Appender" class="headerlink" title="2.2.1. Console节点用来定义输出到控制台的Appender."></a>2.2.1. Console节点用来定义输出到控制台的Appender.</h4><ul><li><strong>属性</strong><ul><li>name: 指定Appender的名字.</li><li>target: SYSTEM_OUT 或 SYSTEM_ERR,一般只设置默认:SYSTEM_OUT.</li></ul></li><li><strong>子节点</strong><ul><li>PatternLayout子节点: 输出格式，不设置默认为:%m%n.</li></ul></li></ul><h4 id="2-2-2-File节点用来定义输出到指定位置的文件的Appender"><a href="#2-2-2-File节点用来定义输出到指定位置的文件的Appender" class="headerlink" title="2.2.2. File节点用来定义输出到指定位置的文件的Appender."></a>2.2.2. File节点用来定义输出到指定位置的文件的Appender.</h4><ul><li><strong>属性</strong><ul><li><code>name</code>:指定Appender的名字.</li><li><code>fileName</code>:指定输出日志的目的文件带全路径的文件名.</li></ul></li><li><strong>子节点</strong><ul><li><code>PatternLayout</code>:输出格式，不设置默认为:%m%n.</li></ul></li></ul><h4 id="2-2-3-RollingFile节点用来定义超过指定大小自动删除旧的创建新的的Appender"><a href="#2-2-3-RollingFile节点用来定义超过指定大小自动删除旧的创建新的的Appender" class="headerlink" title="2.2.3. RollingFile节点用来定义超过指定大小自动删除旧的创建新的的Appender."></a>2.2.3. RollingFile节点用来定义超过指定大小自动删除旧的创建新的的Appender.</h4><ul><li><strong>属性</strong><ul><li><code>name</code>:指定Appender的名字.</li><li><code>fileName</code>:指定输出日志的目的文件带全路径的文件名.</li><li>f<code>ilePattern</code>:指定新建日志文件的名称格式.</li></ul></li><li><strong>子节点</strong><ul><li><code>PatternLayout</code>:输出格式，不设置默认为:%m%n.</li><li><code>Policies</code>:指定滚动日志的策略，就是什么时候进行新建日志文件输出日志.<ul><li><code>TimeBasedTriggeringPolicy</code>: Policies子节点，基于时间的滚动策略，interval属性用来指定多久滚动一次，默认是1hour。modulate=true用来调整时间：比如现在是早上3am，interval是4，那么第一次滚动是在4am，接着是8am，12am…而不是7am.</li><li><code>SizeBasedTriggeringPolicy</code>:  Policies子节点，基于指定文件大小的滚动策略，size属性用来定义每个日志文件的大小.</li></ul></li><li><code>DefaultRolloverStrategy</code>:用来指定同一个文件夹下最多有几个日志文件时开始删除最旧的，创建新的(通过max属性)。</li></ul></li></ul><h3 id="2-3-Loggers节点，常见的有两种-Root和Logger"><a href="#2-3-Loggers节点，常见的有两种-Root和Logger" class="headerlink" title="2.3 Loggers节点，常见的有两种:Root和Logger."></a>2.3 Loggers节点，常见的有两种:Root和Logger.</h3><h4 id="2-3-1-Root节点"><a href="#2-3-1-Root节点" class="headerlink" title="2.3.1. Root节点"></a>2.3.1. Root节点</h4><ul><li>Root节点用来指定项目的根日志，如果没有单独指定Logger，那么就会默认使用该Root日志输出<ul><li><strong>属性</strong><ul><li>level:日志输出级别，共有8个级别，详情见2.4.</li></ul></li><li><strong>子节点</strong><ul><li>AppenderRef：Root的子节点，用来指定该日志输出到哪个Appender.</li></ul></li></ul></li></ul><h4 id="2-3-2-Logger节点"><a href="#2-3-2-Logger节点" class="headerlink" title="2.3.2. Logger节点"></a>2.3.2. Logger节点</h4><ul><li>Logger节点用来单独指定日志的形式，比如要为指定包下的class指定不同的日志级别等。<ul><li><strong>属性</strong><ul><li>level:日志输出级别，共有8个级别，详情见2.4：</li><li>name:用来指定该Logger所适用的类或者类所在的包全路径,继承自Root节点.</li></ul></li><li><strong>子节点</strong><ul><li>AppenderRef：用来指定该日志输出到哪个Appender,如果没有指定，就会默认继承自Root.如果指定了，那么会在指定的这个Appender和Root的Appender中都会输出，此时我们可以设置Logger的additivity=”false”只在自定义的Appender中进行输出。</li></ul></li></ul></li></ul><h3 id="2-4-日志level"><a href="#2-4-日志level" class="headerlink" title="2.4 日志level"></a>2.4 日志level</h3><ul><li>共有8个级别，按照<strong>从低到高</strong>为：<blockquote><p><strong>All &lt; Trace &lt; Debug &lt; Info &lt; Warn &lt; Error &lt; Fatal &lt; OFF</strong>.</p></blockquote></li></ul><ol><li>All:最低等级的，用于打开所有日志记录.</li><li>Trace:是追踪，就是程序推进以下，你就可以写个trace输出，所以trace应该会特别多，不过没关系，我们可以设置最低日志级别不让他输出.</li><li>Debug:指出细粒度信息事件对调试应用程序是非常有帮助的.</li><li>Info:消息在粗粒度级别上突出强调应用程序的运行过程.</li><li>Warn:输出警告及warn以下级别的日志.</li><li>Error:输出错误信息日志.</li><li>Fatal:输出每个严重的错误事件将会导致应用程序的退出的日志.</li><li>OFF:最高等级的，用于关闭所有日志记录.</li></ol><blockquote><p>注意；程序会打印高于或等于所设置级别的日志，设置的日志等级越高，打印出来的日志就越少。</p></blockquote><h2 id="3-比较完整的log4j2-xml配置模板"><a href="#3-比较完整的log4j2-xml配置模板" class="headerlink" title="3. 比较完整的log4j2.xml配置模板"></a>3. 比较完整的log4j2.xml配置模板</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--日志级别以及优先级排序: OFF &gt; FATAL &gt; ERROR &gt; WARN &gt; INFO &gt; DEBUG &gt; TRACE &gt; ALL --&gt;</span></span><br><span class="line"><span class="comment">&lt;!--Configuration后面的status，这个用于设置log4j2自身内部的信息输出，可以不设置，当设置成trace时，你会看到log4j2内部各种详细输出--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--monitorInterval：Log4j能够自动检测修改配置 文件和重新配置本身，设置间隔秒数--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span> <span class="attr">status</span>=<span class="string">"OFF"</span> <span class="attr">monitorInterval</span>=<span class="string">"10"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--先定义所有的appender--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">appenders</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--这个输出控制台的配置--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Console</span> <span class="attr">name</span>=<span class="string">"Console"</span> <span class="attr">target</span>=<span class="string">"SYSTEM_OUT"</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--输出日志的格式--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">PatternLayout</span> <span class="attr">pattern</span>=<span class="string">"%d&#123;HH:mm:ss.SSS&#125; [%-5level] [%t] - %l - %m%n"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">Console</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--文件会打印出所有信息，这个log每次运行程序会自动清空，由append属性决定，这个也挺有用的，适合临时测试用--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">File</span> <span class="attr">name</span>=<span class="string">"log"</span> <span class="attr">fileName</span>=<span class="string">"logs/test.log"</span> <span class="attr">append</span>=<span class="string">"false"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">PatternLayout</span> <span class="attr">pattern</span>=<span class="string">"[%d&#123;HH:mm:ss.SSS&#125;] [%-5level] [%t] - %l - %m%n"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">File</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 这个会打印出所有的info及以下级别的信息，每次大小超过size，则这size大小的日志会自动存入按年份-月份建立的文件夹下面并进行压缩，作为存档--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">RollingFile</span> <span class="attr">name</span>=<span class="string">"RollingFileInfo"</span> <span class="attr">fileName</span>=<span class="string">"logs/info.log"</span></span></span><br><span class="line"><span class="tag">                     <span class="attr">filePattern</span>=<span class="string">"logs/$$&#123;date:yyyy-MM&#125;/info-%d&#123;yyyy-MM-dd&#125;-%i.log"</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--控制台只输出level及以上级别的信息（onMatch），其他的直接拒绝（onMismatch）--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ThresholdFilter</span> <span class="attr">level</span>=<span class="string">"info"</span> <span class="attr">onMatch</span>=<span class="string">"ACCEPT"</span> <span class="attr">onMismatch</span>=<span class="string">"DENY"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">PatternLayout</span> <span class="attr">pattern</span>=<span class="string">"[%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125;] [%-5level] [%t] - %l - %m%n"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Policies</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">TimeBasedTriggeringPolicy</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">SizeBasedTriggeringPolicy</span> <span class="attr">size</span>=<span class="string">"100 MB"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">Policies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">RollingFile</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">RollingFile</span> <span class="attr">name</span>=<span class="string">"RollingFileWarn"</span> <span class="attr">fileName</span>=<span class="string">"logs/warn.log"</span></span></span><br><span class="line"><span class="tag">                     <span class="attr">filePattern</span>=<span class="string">"logs/$$&#123;date:yyyy-MM&#125;/warn-%d&#123;yyyy-MM-dd&#125;-%i.log"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ThresholdFilter</span> <span class="attr">level</span>=<span class="string">"warn"</span> <span class="attr">onMatch</span>=<span class="string">"ACCEPT"</span> <span class="attr">onMismatch</span>=<span class="string">"DENY"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">PatternLayout</span> <span class="attr">pattern</span>=<span class="string">"[%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125;] [%-5level] [%t] - %l - %m%n"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Policies</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">TimeBasedTriggeringPolicy</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">SizeBasedTriggeringPolicy</span> <span class="attr">size</span>=<span class="string">"100 MB"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">Policies</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- DefaultRolloverStrategy属性如不设置，则默认为最多同一文件夹下7个文件，这里设置了20 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">DefaultRolloverStrategy</span> <span class="attr">max</span>=<span class="string">"20"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">RollingFile</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">RollingFile</span> <span class="attr">name</span>=<span class="string">"RollingFileError"</span> <span class="attr">fileName</span>=<span class="string">"logs/error.log"</span></span></span><br><span class="line"><span class="tag">                     <span class="attr">filePattern</span>=<span class="string">"logs/$$&#123;date:yyyy-MM&#125;/error-%d&#123;yyyy-MM-dd&#125;-%i.log"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ThresholdFilter</span> <span class="attr">level</span>=<span class="string">"error"</span> <span class="attr">onMatch</span>=<span class="string">"ACCEPT"</span> <span class="attr">onMismatch</span>=<span class="string">"DENY"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">PatternLayout</span> <span class="attr">pattern</span>=<span class="string">"[%d&#123;yyyy-MM-dd HH:mm:ss,SSS&#125;] [%-5level] [%t] - %l - %m%n"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Policies</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">TimeBasedTriggeringPolicy</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">SizeBasedTriggeringPolicy</span> <span class="attr">size</span>=<span class="string">"100 MB"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">Policies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">RollingFile</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">appenders</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--然后定义logger，只有定义了logger并引入的appender，appender才会生效--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">loggers</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--过滤掉spring和mybatis的一些无用的DEBUG信息--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">logger</span> <span class="attr">name</span>=<span class="string">"org.springframework"</span> <span class="attr">level</span>=<span class="string">"WARN"</span>&gt;</span><span class="tag">&lt;/<span class="name">logger</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">logger</span> <span class="attr">name</span>=<span class="string">"org.mybatis"</span> <span class="attr">level</span>=<span class="string">"INFO"</span>&gt;</span><span class="tag">&lt;/<span class="name">logger</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">logger</span> <span class="attr">name</span>=<span class="string">"com.bin.controller"</span> <span class="attr">level</span>=<span class="string">"INFO"</span> <span class="attr">includeLocation</span>=<span class="string">"true"</span> <span class="attr">additivity</span>=<span class="string">"false"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">"log"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">"Console"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">logger</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">root</span> <span class="attr">level</span>=<span class="string">"INFO"</span> <span class="attr">includeLocation</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">"Console"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">"log"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">"RollingFileInfo"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">"RollingFileWarn"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">"RollingFileError"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">root</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">loggers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><p>　　　　　　　</p>]]></content>
    
    <summary type="html">
    
      　　Log4j是Apache的一个开源项目，通过使用Log4j，我们可以控制日志信息输送的目的地是控制台、文件、GUI组件等等，可以控制每一条日志的输出格式；通过定义每一条日志信息的级别，我们能够更加细致地控制日志的生成过程。这些都可以通过一个配置文件来灵活地进行配置，而不需要修改应用的代码。
    
    </summary>
    
      <category term="术业专攻" scheme="https://hugo1993.gitee.io/categories/%E6%9C%AF%E4%B8%9A%E4%B8%93%E6%94%BB/"/>
    
    
      <category term="log4j" scheme="https://hugo1993.gitee.io/tags/log4j/"/>
    
  </entry>
  
  <entry>
    <title>oracle更改表结构</title>
    <link href="https://hugo1993.gitee.io/2018/02/20/oracle-modify-table/"/>
    <id>https://hugo1993.gitee.io/2018/02/20/oracle-modify-table/</id>
    <published>2018-02-19T19:16:53.000Z</published>
    <updated>2019-02-27T14:48:22.408Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="1-编辑表的字段"><a href="#1-编辑表的字段" class="headerlink" title="1. 编辑表的字段"></a>1. 编辑表的字段</h2><ul><li>修改一个列的数据类型(一般限于修改长度，修改为一个不同类型时有诸多限制):<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 表名 <span class="keyword">MODIFY</span>(列名 数据类型);</span><br><span class="line"></span><br><span class="line">eg:  <span class="keyword">alter</span> <span class="keyword">table</span> skate_test <span class="keyword">modify</span> (author <span class="built_in">number</span>(<span class="number">10</span>,<span class="number">0</span>))</span><br><span class="line">eg:  <span class="keyword">alter</span> <span class="keyword">table</span> skate_test <span class="keyword">modify</span> (author varchar2(<span class="number">10</span>) )</span><br></pre></td></tr></table></figure></li></ul><blockquote><p>注意：</p><ol><li>在修改列的长度时候,只能编辑比现有字段实际存的长度还要大,否则提示下面的错误:  ORA-01441: 无法减小列长度, 因为一些值过大。</li><li>在修改列的数据类型的时候,所修改的列必须为空,否则提示下面的错误:  ORA-01439: 要更改数据类型, 则要修改的列必须为空。</li></ol></blockquote><h2 id="2-增加列"><a href="#2-增加列" class="headerlink" title="2. 增加列"></a>2. 增加列</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 表名 <span class="keyword">ADD</span>(列名 数据类型, 列明 数据类型 ...);</span><br><span class="line"></span><br><span class="line">eg： <span class="keyword">ALTER</span> <span class="keyword">TABLE</span> skate_test <span class="keyword">ADD</span>(author <span class="built_in">NUMBER</span>(<span class="number">38</span>,<span class="number">0</span>) <span class="keyword">not</span> <span class="literal">null</span>);</span><br></pre></td></tr></table></figure><h2 id="3-列改名"><a href="#3-列改名" class="headerlink" title="3. 列改名"></a>3. 列改名</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 表名 <span class="keyword">RENAME</span> <span class="keyword">COLUMN</span> 当前列名 <span class="keyword">TO</span> 新列名;</span><br><span class="line"></span><br><span class="line">eg：<span class="keyword">ALTER</span> <span class="keyword">TABLE</span> skate_test <span class="keyword">RENAME</span> <span class="keyword">COLUMN</span> author <span class="keyword">TO</span> authorer_new</span><br></pre></td></tr></table></figure><h2 id="4-删除列"><a href="#4-删除列" class="headerlink" title="4. 删除列"></a>4. 删除列</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 表名 <span class="keyword">DROP</span> <span class="keyword">COLUMN</span> 列名;</span><br><span class="line">  </span><br><span class="line">eg：<span class="keyword">alter</span> <span class="keyword">table</span> skate_test <span class="keyword">drop</span> <span class="keyword">column</span> author</span><br></pre></td></tr></table></figure><h2 id="5-更改表名"><a href="#5-更改表名" class="headerlink" title="5.更改表名"></a>5.更改表名</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 当前表名 <span class="keyword">RENAME</span> <span class="keyword">TO</span> 新表名;</span><br><span class="line">  </span><br><span class="line">eg：<span class="keyword">alter</span> <span class="keyword">table</span> skate_test <span class="keyword">rename</span> <span class="keyword">to</span> test_sakte</span><br></pre></td></tr></table></figure><h2 id="6-加注释"><a href="#6-加注释" class="headerlink" title="6. 加注释"></a>6. 加注释</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">comment</span> <span class="keyword">column</span> <span class="keyword">on</span> 表名.列名 <span class="keyword">is</span> <span class="string">'注释内容'</span>;   //修改表的列的注释</span><br><span class="line"> </span><br><span class="line">eg：<span class="keyword">COMMENT</span> <span class="keyword">ON</span> <span class="keyword">TABLE</span> MOVO_NEW.TEST_SAKTE  <span class="keyword">IS</span> <span class="string">'注释内容'</span>;  //修改表的注释</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      本篇记录oracle更改表结构的sql语句，包括编辑表的字段，增加列，列改名，删除列，更改表名，加注释以及一些例子和注意事项等等。
    
    </summary>
    
      <category term="术业专攻" scheme="https://hugo1993.gitee.io/categories/%E6%9C%AF%E4%B8%9A%E4%B8%93%E6%94%BB/"/>
    
    
      <category term="oracle" scheme="https://hugo1993.gitee.io/tags/oracle/"/>
    
  </entry>
  
  <entry>
    <title>jsp 自定义标签</title>
    <link href="https://hugo1993.gitee.io/2017/12/17/jsp%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A0%87%E7%AD%BE/"/>
    <id>https://hugo1993.gitee.io/2017/12/17/jsp自定义标签/</id>
    <published>2017-12-16T16:28:25.000Z</published>
    <updated>2019-02-27T14:48:22.414Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="jsp-自定义标签-tld-文件说明"><a href="#jsp-自定义标签-tld-文件说明" class="headerlink" title="jsp 自定义标签.tld 文件说明"></a>jsp 自定义标签.tld 文件说明</h2><h3 id="jsp-描述性文件-tld"><a href="#jsp-描述性文件-tld" class="headerlink" title="jsp 描述性文件.tld"></a>jsp 描述性文件.tld</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">taglib</span> <span class="attr">xmlns</span>=<span class="string">"http://java.sun.com/xml/ns/j2ee"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-jsptaglibrary_2_0.xsd"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">version</span>=<span class="string">"2.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tlib-version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">tlib-version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">short-name</span>&gt;</span>WensTaglib<span class="tag">&lt;/<span class="name">short-name</span>&gt;</span></span><br><span class="line">     <span class="comment">&lt;!-- 定义该标签库的URI --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">uri</span>&gt;</span>https://oa.wens.com.cn/taglib<span class="tag">&lt;/<span class="name">uri</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tag</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">description</span>&gt;</span>first tag<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 定义标签名 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>showSystemTime<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 定义标签处理类 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tag-class</span>&gt;</span>weaver.interfaces.wens.jdpurchase.test.ShowSystemTime<span class="tag">&lt;/<span class="name">tag-class</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 定义标签体为空 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">body-content</span>&gt;</span>empty<span class="tag">&lt;/<span class="name">body-content</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tag</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">taglib</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>注意：将该 tld 描述性文件复制到 Web 应用的 WEB-INF/ 路径，或 WEB-INF 的任意子路径下</p></blockquote><p><strong>1.  taglib 下有三个子元素：</strong></p><ul><li><code>tlib-version</code>：指定该标签库实现的版本，这是一个作为标识的内部版本号，对程序没有太大的作用。</li><li><code>short-name</code>：该标签库的默认短名，该名称通常也没有太大的用处。</li><li><code>uri</code>：这个属性非常重要，它指定该标签库的 URI，相当于指定该标签库的唯一标识。JSP 页面中使用标签库时就是根据该 URI 属性来定位标签库的。</li></ul><p><strong>2.  taglib 元素下可以包含多个 tag 元素，每个 tag 元素定义一个标签，tag 元素下至少应包含如下三个子元素:</strong></p><ul><li><code>name</code>：该标签库的名称，这个属性很重要，JSP 页面中就是根据该名称来使用此标签。</li><li><code>tag-class</code>：指定标签的处理类，毋庸置疑，这个属性非常重要，指定了标签由哪个 Java 类来处理。</li><li><code>body-content</code>：这个属性也很重要，它指定标签体内容。该元素的值可以是如下几个：<ul><li><code>tagdependent</code>：指定标签处理类自己负责处理标签体。</li><li><code>empty</code>：指定该标签只能作用空标签使用。</li><li><code>scriptless</code>：指定该标签的标签体可以是静态 HTML 元素，表达式语言，但不允许出现 JSP 脚本。</li><li><code>JSP</code>：指定该标签的标签体可以使用 JSP 脚本。</li></ul></li></ul><p><strong>3.  简单标签既没有属性，也没有标签体，用法、功能都比较简单。实际上还有如下两种常用的标签：</strong></p><ul><li>带属性的标签。</li><li>带标签体的标签。</li></ul><blockquote><p>注意： 带属性标签必须为每个属性提供对应的 setter 和 getter 方法。带标签体的标签，可以在标签内嵌入其他内容（包括静态的 HTML 内容和动态的 JSP 内容），通常用于完成一些逻辑运算，例如判断和循环等。</p></blockquote><h2 id="jsp-自定义标签之-TagSupport，BodyTagSupport-不推荐"><a href="#jsp-自定义标签之-TagSupport，BodyTagSupport-不推荐" class="headerlink" title="jsp 自定义标签之 TagSupport，BodyTagSupport(不推荐)"></a>jsp 自定义标签之 TagSupport，BodyTagSupport(不推荐)</h2><blockquote><p>TagSupport，BodyTagSupport 自定义 jsp 标签是 jsp1.0 版本的功能，自定义标签比 jsp2.0 较难理解而且繁琐，推荐使用 jsp2.0 自定义标签。</p></blockquote><h3 id="自定义标签开发步骤"><a href="#自定义标签开发步骤" class="headerlink" title="自定义标签开发步骤"></a>自定义标签开发步骤</h3><ol><li>第一步，编写标签处理类，继承自 TagSupport</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bin.tag;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.jsp.JspException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.jsp.tagext.TagSupport;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"><span class="keyword">import</span> java.util.Calendar;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Hugo Black</span></span><br><span class="line"><span class="comment"> * 自定义标签</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LoginDateTag</span> <span class="keyword">extends</span> <span class="title">TagSupport</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">doStartTag</span><span class="params">()</span> <span class="keyword">throws</span> JspException </span>&#123;</span><br><span class="line">        Calendar calendar = Calendar.getInstance();</span><br><span class="line">        Date currentTime = calendar.getTime();</span><br><span class="line">        SimpleDateFormat simpleDateFormat = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"YYYY-MM-dd HH:mm:ss"</span>);</span><br><span class="line">        String time = simpleDateFormat.format(currentTime);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            pageContext.getOut().print(time);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.doStartTag();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>第二步，定义标签库描述文件，放在 WEB-INF 根目录</li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8" ?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE taglib</span></span><br><span class="line"><span class="meta">        PUBLIC "-//Sun Microsystems, Inc.//DTD JSP Tag Library 1.2//EN"</span></span><br><span class="line"><span class="meta">        "http://java.sun.com/j2ee/dtd/web-jsptaglibrary_1_2.dtd"&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">taglib</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tlib-version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">tlib-version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">jsp-version</span>&gt;</span>1.2<span class="tag">&lt;/<span class="name">jsp-version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">short-name</span>&gt;</span>simple<span class="tag">&lt;/<span class="name">short-name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">uri</span>&gt;</span>/my-tag<span class="tag">&lt;/<span class="name">uri</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">tag</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>loginDate<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tag-class</span>&gt;</span>com.bin.tag.LoginDateTag<span class="tag">&lt;/<span class="name">tag-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body-content</span>&gt;</span>empty<span class="tag">&lt;/<span class="name">body-content</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tag</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">taglib</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="3"><li>第三步，在 jsp 中引入定义声明自定义标签, 使用标签</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ taglib prefix=&quot;cxb&quot; uri=&quot;/my-tag&quot;%&gt;</span><br><span class="line">&lt;cxb:loginDate/&gt;</span><br></pre></td></tr></table></figure><h3 id="控制标签体内容显示"><a href="#控制标签体内容显示" class="headerlink" title="控制标签体内容显示"></a>控制标签体内容显示</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bin.tag;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.jsp.tagext.TagSupport;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Hugo Black</span></span><br><span class="line"><span class="comment"> * 控制标签体内容显示</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SkipBodyOrEvalBodyIncludeTag</span> <span class="keyword">extends</span> <span class="title">TagSupport</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">doStartTag</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String name = pageContext.getRequest().getParameter(<span class="string">"name"</span>);</span><br><span class="line">        String hello = <span class="string">"hello"</span>;</span><br><span class="line">        <span class="comment">//name为空不显示标签体内容</span></span><br><span class="line">        <span class="keyword">if</span>(name==<span class="keyword">null</span> || hello.equals(name))&#123;</span><br><span class="line">            <span class="keyword">return</span> SKIP_BODY;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> EVAL_BODY_INCLUDE;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="控制是否执行标签结束后的内容"><a href="#控制是否执行标签结束后的内容" class="headerlink" title="控制是否执行标签结束后的内容"></a>控制是否执行标签结束后的内容</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bin.tag;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.jsp.tagext.TagSupport;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Hugo Black</span></span><br><span class="line"><span class="comment"> * 控制是否执行标签结束后的内容</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SkipPageOrEvalPageTag</span> <span class="keyword">extends</span> <span class="title">TagSupport</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">doEndTag</span><span class="params">()</span></span>&#123;</span><br><span class="line">        HttpServletRequest httpServletRequest = (HttpServletRequest) pageContext.getRequest();</span><br><span class="line">        String referer = httpServletRequest.getHeader(<span class="string">"referer"</span>);</span><br><span class="line">        String url = <span class="string">"http://"</span>+ httpServletRequest.getServerName();</span><br><span class="line">        <span class="keyword">if</span>(referer!=<span class="keyword">null</span> &amp;&amp; referer.startsWith(url))&#123;</span><br><span class="line">            <span class="keyword">return</span> EVAL_PAGE;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                pageContext.getOut().print(<span class="string">"不能访问"</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> SKIP_PAGE;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="自定义标签的属性"><a href="#自定义标签的属性" class="headerlink" title="自定义标签的属性"></a>自定义标签的属性</h3><h4 id="编写标签处理类"><a href="#编写标签处理类" class="headerlink" title="编写标签处理类"></a>编写标签处理类</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bin.tag;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.bin.entity.Employee;</span><br><span class="line"><span class="keyword">import</span> com.bin.util.JdbcUtils;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.dbutils.QueryRunner;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.dbutils.handlers.BeanListHandler;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.jsp.tagext.TagSupport;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Hugo Black</span></span><br><span class="line"><span class="comment"> * 定义标签属性</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AttributeTag</span> <span class="keyword">extends</span> <span class="title">TagSupport</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String sql;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSql</span><span class="params">(String sql)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.sql = sql;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">doEndTag</span><span class="params">()</span></span>&#123;</span><br><span class="line">        QueryRunner qr = JdbcUtils.getQueryRuner();</span><br><span class="line">        List&lt;Employee&gt; list;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            list = qr.query(sql, <span class="keyword">new</span> BeanListHandler&lt;&gt;(Employee.class));</span><br><span class="line">            <span class="keyword">for</span>(Employee employee: list)&#123;</span><br><span class="line">                pageContext.getOut().println(employee.toString());</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> EVAL_PAGE;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException | IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">return</span> SKIP_PAGE;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="在-WEB-INF-根目录的标签库描述文件增加以下内容"><a href="#在-WEB-INF-根目录的标签库描述文件增加以下内容" class="headerlink" title="在 WEB-INF 根目录的标签库描述文件增加以下内容"></a>在 WEB-INF 根目录的标签库描述文件增加以下内容</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">tag</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>ConnectionTag<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tag-class</span>&gt;</span>com.bin.tag.AttributeTag<span class="tag">&lt;/<span class="name">tag-class</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body-content</span>&gt;</span>empty<span class="tag">&lt;/<span class="name">body-content</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">attribute</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>sql<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">required</span>&gt;</span>true<span class="tag">&lt;/<span class="name">required</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">rtexprvalue</span>&gt;</span>true<span class="tag">&lt;/<span class="name">rtexprvalue</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">attribute</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tag</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="使用标签"><a href="#使用标签" class="headerlink" title="使用标签"></a>使用标签</h4><ul><li>属性值为正常字符串</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">cxb:ConnectionTag</span> <span class="attr">sql</span>=<span class="string">"select * from employee"</span>&gt;</span><span class="tag">&lt;/<span class="name">cxb:ConnectionTag</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>属性值为 el 表达式</li></ul><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;%</span><br><span class="line">    String sql = <span class="string">"select * from employee"</span>;</span><br><span class="line">    pageContext.setAttribute(<span class="string">"sql"</span>, sql);</span><br><span class="line">%&gt;</span><br><span class="line"></span><br><span class="line">&lt;cxb:ConnectionTag sql="$&#123;sql&#125;"&gt;&lt;/cxb:ConnectionTag&gt;</span><br></pre></td></tr></table></figure><h3 id="修改标签体的内容"><a href="#修改标签体的内容" class="headerlink" title="修改标签体的内容"></a>修改标签体的内容</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bin.tag;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.jsp.JspWriter;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.jsp.tagext.BodyTagSupport;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Hugo Black</span></span><br><span class="line"><span class="comment"> * 修改标签体内容</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BodyTagSupportDemo</span> <span class="keyword">extends</span> <span class="title">BodyTagSupport</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">doEndTag</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String content = <span class="keyword">this</span>.bodyContent.getString();</span><br><span class="line">        System.out.println(content);</span><br><span class="line"></span><br><span class="line">        String newStr = <span class="string">"hello world"</span>;</span><br><span class="line">        JspWriter jspWriter = bodyContent.getEnclosingWriter();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            jspWriter.write(newStr);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> EVAL_PAGE;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="jsp-自定义标签之-Simple-推荐"><a href="#jsp-自定义标签之-Simple-推荐" class="headerlink" title="jsp 自定义标签之 Simple(推荐)"></a>jsp 自定义标签之 Simple(推荐)</h2><h3 id="自定义标签开发步骤-1"><a href="#自定义标签开发步骤-1" class="headerlink" title="自定义标签开发步骤"></a>自定义标签开发步骤</h3><ol><li>第一步，编写标签处理类，继承自 SimpleTagSupport</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bin.tag.simple;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.jsp.JspWriter;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.jsp.tagext.SimpleTagSupport;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"><span class="keyword">import</span> java.util.Calendar;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Hugo Black</span></span><br><span class="line"><span class="comment"> * 自定义标签</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LoginDateTag</span> <span class="keyword">extends</span> <span class="title">SimpleTagSupport</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doTag</span><span class="params">()</span> <span class="keyword">throws</span>  IOException </span>&#123;</span><br><span class="line">        Calendar calendar = Calendar.getInstance();</span><br><span class="line">        Date currentTime = calendar.getTime();</span><br><span class="line">        SimpleDateFormat simpleDateFormat = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyy-MM-dd HH:mm:ss"</span>);</span><br><span class="line">        String time = simpleDateFormat.format(currentTime);</span><br><span class="line"></span><br><span class="line">        JspWriter jspWriter = <span class="keyword">this</span>.getJspContext().getOut();</span><br><span class="line">        jspWriter.write(time);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>第二步，定义标签库描述文件，放在 WEB-INF 根目录</li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8" ?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">taglib</span> <span class="attr">xmlns</span>=<span class="string">"http://java.sun.com/xml/ns/j2ee"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-jsptaglibrary_2_0.xsd"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">version</span>=<span class="string">"2.0"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">description</span>&gt;</span>jsp自定义标签2.0<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tlib-version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">tlib-version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">short-name</span>&gt;</span>SimpleTagLibrary<span class="tag">&lt;/<span class="name">short-name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">uri</span>&gt;</span>/my-tag2<span class="tag">&lt;/<span class="name">uri</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">tag</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>loginDate<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tag-class</span>&gt;</span>com.bin.tag.simple.LoginDateTag<span class="tag">&lt;/<span class="name">tag-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body-content</span>&gt;</span>empty<span class="tag">&lt;/<span class="name">body-content</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tag</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">taglib</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="3"><li>第三步，在 jsp 中引入定义声明自定义标签, 使用标签</li></ol><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ taglib prefix=<span class="string">"cxb2"</span> uri=<span class="string">"/my-tag2"</span> %&gt;</span><br><span class="line">&lt;cxb2:loginDate/&gt;</span><br></pre></td></tr></table></figure><h3 id="显示或者忽略标签体"><a href="#显示或者忽略标签体" class="headerlink" title="显示或者忽略标签体"></a>显示或者忽略标签体</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bin.tag.simple;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.jsp.JspException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.jsp.PageContext;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.jsp.tagext.SimpleTagSupport;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Hugo Black</span></span><br><span class="line"><span class="comment"> * 显示或者忽略标签体</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DisplayOrSkipBody</span> <span class="keyword">extends</span> <span class="title">SimpleTagSupport</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doTag</span><span class="params">()</span> <span class="keyword">throws</span> IOException, JspException </span>&#123;</span><br><span class="line">        PageContext pageContext = (PageContext) <span class="keyword">this</span>.getJspContext();</span><br><span class="line">        String name = pageContext.getRequest().getParameter(<span class="string">"name"</span>);</span><br><span class="line">        String hello= <span class="string">"hello"</span>;</span><br><span class="line">        <span class="keyword">if</span>(name!=<span class="keyword">null</span> &amp;&amp; name.equals(hello))&#123;</span><br><span class="line">            <span class="keyword">this</span>.getJspBody().invoke(<span class="keyword">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">super</span>.doTag();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="显示或忽略标签体后的内容"><a href="#显示或忽略标签体后的内容" class="headerlink" title="显示或忽略标签体后的内容"></a>显示或忽略标签体后的内容</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bin.tag.simple;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.jsp.JspException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.jsp.PageContext;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.jsp.SkipPageException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.jsp.tagext.SimpleTagSupport;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Hugo Black</span></span><br><span class="line"><span class="comment"> * 显示或忽略标签体后的内容</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SkipOrEvalPage</span> <span class="keyword">extends</span> <span class="title">SimpleTagSupport</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doTag</span><span class="params">()</span> <span class="keyword">throws</span> JspException, IOException </span>&#123;</span><br><span class="line">        PageContext pageContext = (PageContext) <span class="keyword">this</span>.getJspContext();</span><br><span class="line">        HttpServletRequest request = (HttpServletRequest) pageContext.getRequest();</span><br><span class="line">        String referer = request.getHeader(<span class="string">"referer"</span>);</span><br><span class="line">        <span class="keyword">if</span>(referer == <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> SkipPageException();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">super</span>.doTag();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="迭代标签体内容"><a href="#迭代标签体内容" class="headerlink" title="迭代标签体内容"></a>迭代标签体内容</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bin.tag.simple;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.jsp.JspException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.jsp.PageContext;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.jsp.tagext.SimpleTagSupport;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Hugo Black</span></span><br><span class="line"><span class="comment"> * 迭代标签体内容</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InterationTagBody</span> <span class="keyword">extends</span> <span class="title">SimpleTagSupport</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String[] items;</span><br><span class="line">    <span class="keyword">private</span> String <span class="keyword">var</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> i = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setItems</span><span class="params">(String[] items)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.items = items;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setVar</span><span class="params">(String <span class="keyword">var</span>)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.<span class="keyword">var</span> = <span class="keyword">var</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setI</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.i = i;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doTag</span><span class="params">()</span> <span class="keyword">throws</span> JspException, IOException </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (items != <span class="keyword">null</span> &amp;&amp; items.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            PageContext pageContext = (PageContext) <span class="keyword">this</span>.getJspContext();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; items.length; i++) &#123;</span><br><span class="line">                pageContext.setAttribute(<span class="string">"name"</span>, items[i]);</span><br><span class="line">                getJspBody().invoke(<span class="keyword">null</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="修改标签体内容"><a href="#修改标签体内容" class="headerlink" title="修改标签体内容"></a>修改标签体内容</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bin.tag.simple;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.jsp.JspException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.jsp.PageContext;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.jsp.tagext.JspFragment;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.jsp.tagext.SimpleTagSupport;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.StringWriter;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Hugo Black</span></span><br><span class="line"><span class="comment"> * 修改标签体内容</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ModifyTagBodyContent</span> <span class="keyword">extends</span> <span class="title">SimpleTagSupport</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doTag</span><span class="params">()</span> <span class="keyword">throws</span> JspException, IOException </span>&#123;</span><br><span class="line">        StringWriter stringWriter = <span class="keyword">new</span> StringWriter();</span><br><span class="line">        JspFragment jspFragment = <span class="keyword">this</span>.getJspBody();</span><br><span class="line">        jspFragment.invoke(stringWriter);</span><br><span class="line">        String content = stringWriter.toString();</span><br><span class="line">        content = <span class="string">"hello word"</span>;</span><br><span class="line">        PageContext pageContext = (PageContext)getJspContext();</span><br><span class="line">        pageContext.getOut().write(content);</span><br><span class="line">        <span class="keyword">super</span>.doTag();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p><strong>总结：</strong>自定义标签有以下四个功能：</p><ol><li>控制标签内容是否显示</li><li>控制标签结束后的代码是否执行</li><li>控制标签体内容重复执行</li><li>改变标签体内容再输出</li></ol></blockquote><blockquote><p><strong>注意：</strong>jsp2.0 中的描述性文件<code>.tld</code>中的<code>&lt;body-content&gt;scriptless&lt;/body-content&gt;</code>的内容不能为 JSP。</p></blockquote>]]></content>
    
    <summary type="html">
    
      jsp自定义标签是可重用的组件代码, 允许开发人员为复杂的操作提供逻辑名称, 并且简化jsp页面的逻辑，使得jsp页面更简洁，逻辑更清晰！
    
    </summary>
    
      <category term="术业专攻" scheme="https://hugo1993.gitee.io/categories/%E6%9C%AF%E4%B8%9A%E4%B8%93%E6%94%BB/"/>
    
    
      <category term="jsp" scheme="https://hugo1993.gitee.io/tags/jsp/"/>
    
  </entry>
  
  <entry>
    <title>git命令日常使用难点</title>
    <link href="https://hugo1993.gitee.io/2017/12/07/learn-git-daily-command/"/>
    <id>https://hugo1993.gitee.io/2017/12/07/learn-git-daily-command/</id>
    <published>2017-12-07T13:43:36.000Z</published>
    <updated>2019-02-27T14:48:22.413Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="1-本地初始化后的项目提交到远程"><a href="#1-本地初始化后的项目提交到远程" class="headerlink" title="1. 本地初始化后的项目提交到远程"></a>1. 本地初始化后的项目提交到远程</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin git@github.com:hello20170205/gitCommandTest.git</span><br><span class="line"></span><br><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="2-本地创建新分支后提交到远程"><a href="#2-本地创建新分支后提交到远程" class="headerlink" title="2. 本地创建新分支后提交到远程"></a>2. 本地创建新分支后提交到远程</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">git push  -u origin 分支名</span><br><span class="line">或者</span><br><span class="line">git push --set-upstream origin 分支名</span><br><span class="line"></span><br><span class="line">比如：</span><br><span class="line">git push -u origin feature/addAuthor</span><br><span class="line">或者</span><br><span class="line">git push --set-upstream origin feature/addAuthor</span><br></pre></td></tr></table></figure><h2 id="3-同时删除本地分支和远程分支"><a href="#3-同时删除本地分支和远程分支" class="headerlink" title="3. 同时删除本地分支和远程分支"></a>3. 同时删除本地分支和远程分支</h2><p>(1). 切换到其他分支（除要删除的分支外）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout hello</span><br></pre></td></tr></table></figure><p>(2). 删除本地分支</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -d test2</span><br></pre></td></tr></table></figure><p>(3). 删除远程分支(注意：分支前的分号)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push or :test2</span><br></pre></td></tr></table></figure><h2 id="4-临时做新功能，创建新分支"><a href="#4-临时做新功能，创建新分支" class="headerlink" title="4. 临时做新功能，创建新分支"></a>4. 临时做新功能，创建新分支</h2><h3 id="4-1-其他功能尚未完成，该代码不应该带到新功能分支下"><a href="#4-1-其他功能尚未完成，该代码不应该带到新功能分支下" class="headerlink" title="4.1 其他功能尚未完成，该代码不应该带到新功能分支下"></a>4.1 其他功能尚未完成，该代码不应该带到新功能分支下</h3><p>(1). 先将其他功能加入版本控制</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br></pre></td></tr></table></figure><p>(2). 将其他功能存储起来</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git stash</span><br></pre></td></tr></table></figure><p>(3). 创建并切换新分支,新分支写完代码 push 后不包含其他功能代码</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b feature/addTODO</span><br></pre></td></tr></table></figure><h3 id="4-2-其他功能尚未完成，该代码带到新功能分支下"><a href="#4-2-其他功能尚未完成，该代码带到新功能分支下" class="headerlink" title="4.2 其他功能尚未完成，该代码带到新功能分支下"></a>4.2 其他功能尚未完成，该代码带到新功能分支下</h3><p>创建并切换新分支,新分支写完代码 push 后包含其他功能代码</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b feature/addTODO</span><br></pre></td></tr></table></figure><h2 id="5-新功能完成后，本地合并新功能分支"><a href="#5-新功能完成后，本地合并新功能分支" class="headerlink" title="5. 新功能完成后，本地合并新功能分支"></a>5. 新功能完成后，本地合并新功能分支</h2><p>(1). 将新功能加入版本控制后提交</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -am &quot;commit feature/addTODO&quot;</span><br></pre></td></tr></table></figure><p>(2). 切换到要合并到的分支</p><p>比如想要将 feature/addTODO 合并到 develop，那么就切换到 develop 分支</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout develop</span><br></pre></td></tr></table></figure><p>(3). 合并分支</p><p>将 feature/addTODO 合并到 develop</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git merge feature/addTODO</span><br></pre></td></tr></table></figure><p>(4). 合并成功后删除分支</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -d feature/addTODO</span><br></pre></td></tr></table></figure><h2 id="6-忽略已加入版本控制的文件或者文件夹"><a href="#6-忽略已加入版本控制的文件或者文件夹" class="headerlink" title="6. 忽略已加入版本控制的文件或者文件夹"></a>6. 忽略已加入版本控制的文件或者文件夹</h2><p>(1). 使用以下命令删除 Git 对于该文件(夹)的追踪</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git rm --cached src/main/resources/spring-context.xml</span><br><span class="line"></span><br><span class="line">或者</span><br><span class="line"></span><br><span class="line">git rm -r --cached .idea</span><br></pre></td></tr></table></figure><p>(2). 更新 .gitignore 忽略掉目标文件, 在.gitignore 添加以下一行</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">src/main/resources/spring-context.xml</span><br><span class="line"></span><br><span class="line">或者</span><br><span class="line"></span><br><span class="line">.idea</span><br></pre></td></tr></table></figure><h2 id="7-取消修改的文件-已加入版本控制"><a href="#7-取消修改的文件-已加入版本控制" class="headerlink" title="7. 取消修改的文件(已加入版本控制)"></a>7. 取消修改的文件(已加入版本控制)</h2><h3 id="7-1-文件尚未存在暂存区"><a href="#7-1-文件尚未存在暂存区" class="headerlink" title="7.1 文件尚未存在暂存区"></a>7.1 文件尚未存在暂存区</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git checkout -- &lt;file&gt;</span><br><span class="line"></span><br><span class="line">如： git checkout --  src/test/java/com/bin/reflect/StringTest.java</span><br></pre></td></tr></table></figure><h3 id="7-2-文件已存在暂存区-即用-git-add-命令后"><a href="#7-2-文件已存在暂存区-即用-git-add-命令后" class="headerlink" title="7.2 文件已存在暂存区(即用 git add 命令后)"></a>7.2 文件已存在暂存区(即用 git add 命令后)</h3><p>(1). 让文件脱离暂存区</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git reset HEAD &lt;file&gt;</span><br><span class="line"></span><br><span class="line">如： git reset HEAD src/test/java/com/bin/reflect/StringTest.java</span><br></pre></td></tr></table></figure><p>(2). 撤销文件修改</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git checkout -- &lt;file&gt;</span><br><span class="line"></span><br><span class="line">如： git checkout --  src/test/java/com/bin/reflect/StringTest.java</span><br></pre></td></tr></table></figure><h2 id="8-恢复删除的文件-已加入版本控制"><a href="#8-恢复删除的文件-已加入版本控制" class="headerlink" title="8. 恢复删除的文件(已加入版本控制)"></a>8. 恢复删除的文件(已加入版本控制)</h2><p>(1) 使用 reset 命令，先将删除文件找回来。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset HEAD  hello.yaml</span><br></pre></td></tr></table></figure><p>(2) 使用 checkout 命令恢复到版本控制</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -- hello.yaml</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;1-本地初始化后的项目提交到远程&quot;&gt;&lt;a href=&quot;#1-本地初始化后的项目提交到远程&quot; class=&quot;headerlink&quot; title=&quot;1. 本地初始化后的项目提交到远程&quot;&gt;&lt;/a&gt;1. 本地初始化后的项目提交到远程&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;git remote add origin git@github.com:hello20170205/gitCommandTest.git&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git push -u origin master&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="术业专攻" scheme="https://hugo1993.gitee.io/categories/%E6%9C%AF%E4%B8%9A%E4%B8%93%E6%94%BB/"/>
    
    
      <category term="git" scheme="https://hugo1993.gitee.io/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>tmux实用技巧</title>
    <link href="https://hugo1993.gitee.io/2017/12/01/tmux-command-usage/"/>
    <id>https://hugo1993.gitee.io/2017/12/01/tmux-command-usage/</id>
    <published>2017-11-30T18:14:46.000Z</published>
    <updated>2019-02-27T14:48:22.415Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install tmux</span><br></pre></td></tr></table></figure><h2 id="使用Github配置"><a href="#使用Github配置" class="headerlink" title="使用Github配置"></a><a href="https://github.com/gpakosz/.tmux" target="_blank" rel="noopener">使用Github配置</a></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd ~</span><br><span class="line">git clone https://github.com/gpakosz/.tmux.git</span><br><span class="line">ln -s -f .tmux/.tmux.conf</span><br><span class="line">cp .tmux/.tmux.conf.local .</span><br></pre></td></tr></table></figure><h2 id="tmux快捷键"><a href="#tmux快捷键" class="headerlink" title="tmux快捷键"></a>tmux快捷键</h2><blockquote><p><strong>注意</strong>： 以下快捷键使用均得先激活控制台，即先按下<code>Ctrl+a</code>再按下快捷键！</p></blockquote><h3 id="常用操作"><a href="#常用操作" class="headerlink" title="常用操作"></a>常用操作</h3><p> <code>Ctrl+a</code> : 激活控制台；此时以下按键生效( 自定义，默认是 <code>Ctrl+b</code> )<br> <code>?</code> : 列出所有快捷键；按q返回<br> <code>d</code>: 脱离当前会话；这样可以暂时返回Shell界面，输入<code>tmux attach</code>能够重新进入之前的会话<br> <code>D</code>: 选择要脱离的会话；在同时开启了多个会话时使用<br> <code>Ctrl+z</code>: 挂起当前会话<br> <code>r</code>: 强制重绘未脱离的会话<br> <code>s</code>: 选择并切换会话；在同时开启了多个会话时使用<br> <code>:</code>: 进入命令行模式；此时可以输入支持的命令，例如kill-server可以关闭服务器<br> <code>[</code> : 进入复制模式；此时的操作与vi/emacs相同，<code>按q/Esc</code>退出<br> <code>~</code>: 列出提示信息缓存；其中包含了之前tmux返回的各种提示信息</p><h3 id="窗口操作"><a href="#窗口操作" class="headerlink" title="窗口操作"></a>窗口操作</h3><p> <code>c</code>: 创建新窗口<br> <code>&amp;</code>: 关闭当前窗口<br> <code>数字键</code>: 切换至指定窗口<br> <code>{</code>: 向前置换当前面板<br> <code>}</code>: 向后置换当前面板<br> <code>l</code>: 在前后两个窗口间互相切换<br> <code>w</code>: 通过窗口列表切换窗口<br> <code>,</code>: 重命名当前窗口；这样便于识别<br> <code>: 修改当前窗口编号；相当于窗口重新排序</code><br> f`: 在所有窗口中查找指定文本</p><h3 id="面板操作"><a href="#面板操作" class="headerlink" title="面板操作"></a>面板操作</h3><p> <code>”</code>: 将当前面板平分为上下两块<br> <code>%</code>: 将当前面板平分为左右两块<br> <code>x</code> 或者 <code>exit</code>: 关闭当前面板<br> <code>!</code>: 将当前面板置于新窗口;即新建一个窗口，其中仅包含当前面板<br> <code>Ctrl+方向键</code>: 以1个单元格为单位移动边缘以调整当前面板大小<br> <code>Alt+方向键</code>: 以5个单元格为单位移动边缘以调整当前面板大小<br> <code>Space</code>: 在预置的面板布局中循环切换；依次包括<code>even-horizontal</code>、<code>even-vertical</code>、<code>main-horizontal</code>、<code>main-vertical</code>、<code>tiled</code><br> <code>q</code>: 显示面板编号<br> <code>o</code>: 在当前窗口中选择下一面板<br> <code>方向键</code>: 移动光标以选择面板<br> <code>Alt+o</code>:逆时针旋转当前窗口的面板<br> <code>Ctrl+o</code>: 顺时针旋转当前窗口的面板<br> <code>Ctrl+l</code>: 清空面板历史<br> <code>Enter</code>: 进入复制模式， <code>v</code>: 选择复制；</p>]]></content>
    
    <summary type="html">
    
      　　tmux是指通过一个终端登录远程主机并运行后，在其中可以开启多个控制台的终端复用软件; 本篇介绍tmux实用技巧，包括快捷键中的常用操作，窗口操作，面板操作等等。
    
    </summary>
    
      <category term="工具使用" scheme="https://hugo1993.gitee.io/categories/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/"/>
    
    
      <category term="tool" scheme="https://hugo1993.gitee.io/tags/tool/"/>
    
      <category term="mac" scheme="https://hugo1993.gitee.io/tags/mac/"/>
    
      <category term="tmux" scheme="https://hugo1993.gitee.io/tags/tmux/"/>
    
  </entry>
  
  <entry>
    <title>IDEA日常开发问题集锦</title>
    <link href="https://hugo1993.gitee.io/2017/11/21/idea-problem-and-solution/"/>
    <id>https://hugo1993.gitee.io/2017/11/21/idea-problem-and-solution/</id>
    <published>2017-11-21T10:45:16.000Z</published>
    <updated>2019-02-27T14:48:22.411Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="1-IDEA运行tomcat项目编码错误及如何指定tomcat编码"><a href="#1-IDEA运行tomcat项目编码错误及如何指定tomcat编码" class="headerlink" title="1. IDEA运行tomcat项目编码错误及如何指定tomcat编码"></a>1. IDEA运行tomcat项目编码错误及如何指定tomcat编码</h2><p>IDEA里配置的Tomcat. 凡是在tomcat里启动的java应用, 不管源码是什么编码, 运行后都是GBK.</p><blockquote><p>解决方法:<br>Run/Debug Configuration -&gt; Tomcat Server -&gt; Tomcat 7, 在VM Options里面加上 <code>-Dfile.encoding=UTF-8</code> 并应用, 以上更改后, 控制台输出会乱码, 还需要将IDEA的启动环境也配成UTF-8, 在IDEA安装目录下, 打开 idea64.exe.vmoptions , 最后一行加上 <code>-Dfile.encoding=UTF-8</code></p></blockquote><h2 id="2-项目使用java6，注解-Override出现红色，详情是Cannot-resolve-symbol-override"><a href="#2-项目使用java6，注解-Override出现红色，详情是Cannot-resolve-symbol-override" class="headerlink" title="2. 项目使用java6，注解@Override出现红色，详情是Cannot resolve symbol override"></a>2. 项目使用java6，注解@Override出现红色，详情是Cannot resolve symbol override</h2><p>查看项目Project-settings -&gt; Project -&gt; Project SDK已经选中java6, Project language level也已经是6啦， 再查看Modules -&gt; Source 的language level也选择6啦。</p><blockquote><p>解决方法： SDKs settings , 添加java6，并选中它。</p></blockquote>]]></content>
    
    <summary type="html">
    
      　　本篇记录InteliJ IDEA日常开发使用过程的一些问题，用于日后快速定位问题；IDEA 全称 IntelliJ IDEA，是java编程语言开发的集成环境；IntelliJ在业界被公认为最好的java开发工具之一。
    
    </summary>
    
      <category term="实践检验" scheme="https://hugo1993.gitee.io/categories/%E5%AE%9E%E8%B7%B5%E6%A3%80%E9%AA%8C/"/>
    
    
      <category term="IDEA" scheme="https://hugo1993.gitee.io/tags/IDEA/"/>
    
  </entry>
  
</feed>
